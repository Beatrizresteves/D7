(window.webpackJsonp=window.webpackJsonp||[]).push([[32,29,42],{1132:function(e,t,o){},1133:function(e,t,o){},149:function(e,t,o){"use strict";o.r(t);var r=o(336);t.default=r.default},1915:function(e,t,o){e.exports=o.p+"img/thumb.8baa718.svg"},1916:function(e,t,o){"use strict";o(1917)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},1917:function(e,t,o){var r=o(5),n=o(30),c=o(69),l=/"/g,d=function(e,t,o,r){var n=String(c(e)),d="<"+t;return""!==o&&(d+=" "+o+'="'+String(r).replace(l,"&quot;")+'"'),d+">"+n+"</"+t+">"};e.exports=function(e,t){var o={};o[e]=t(d),r(r.P+r.F*n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",o)}},1918:function(e,t,o){"use strict";o(1132)},1919:function(e,t,o){"use strict";o(1133)},1963:function(e,t,o){"use strict";o.r(t);o(12),o(13),o(16),o(20),o(21);var r=o(7),n=o(653),c=(o(1916),o(3)),l=o(197),d={components:{adaLink:o(192).a},data:function(){return{link:"",text:""}},mounted:function(){l.a.isApple()?(this.link="https://apps.apple.com/br/app/buser/id1383778218",this.text="Apple Store"):(this.link="https://play.google.com/store/apps/details?id=br.com.buser.AppBuser&hl=pt-br",this.text="Google Play")},methods:{avaliarAgora:function(){c.a.passenger.dontRateApp("avaliar"),this.$emit("close")},avaliarDepois:function(){c.a.passenger.dontRateApp("fechar"),this.$emit("close")}}},m=o(4),v=Object(m.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ta-center"},[r("img",{attrs:{alt:"Obrigado pelo feedback",title:"Obrigado pelo feedback",src:o(1915),width:"76",height:"63"}}),e._v(" "),r("p",{staticClass:"title-2 mt-3"},[e._v("Obrigado!")]),e._v(" "),r("p",{staticClass:"text"},[e._v("Sua opinião importa muito para nós! :)")]),e._v(" "),r("div",{staticClass:"ta-center mt-4"},[r("ada-link",{attrs:{href:e.link,appearance:"button",color:"primary",target:"_blank",rel:"nofollow noopener external"},nativeOn:{click:function(t){return e.avaliarAgora()}}},[e._v("\n\n      Avalie nosso app na "+e._s(e.text)+"\n    ")]),e._v(" "),r("ada-button",{attrs:{color:"primary",transparent:""},on:{click:function(t){return e.avaliarDepois()}}},[e._v("Avaliar depois")])],1)])}),[],!1,null,null,null).exports,h={methods:{close:function(){this.$emit("close")}}},_=(o(1918),Object(m.a)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"py-3 ta-center"},[o("fa",{staticClass:"color-green circle-check-icon",attrs:{icon:["fal","circle-check"]}}),e._v(" "),o("p",{staticClass:"title-2 mt-2"},[e._v("Avaliação enviada com sucesso!")]),e._v(" "),o("ada-button",{staticClass:"mt-3",attrs:{color:"primary"},on:{click:function(t){return e.close()}}},[e._v("\n    Fechar\n  ")])],1)}),[],!1,null,"04a74200",null).exports),f=o(2),w=(o(17),{components:{origemDestino:o(663).a},props:{grupo:null}}),y=Object(m.a)(w,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("p",{staticClass:"text-3 fw-bold "},[e._v(e._s(e._f("extendedweekdaydaymonthyear")(e.grupo.datetime_ida)))]),e._v(" "),o("origem-destino",{staticClass:"mt-1",attrs:{origem:e.grupo.origem.name,destino:e.grupo.destino.name,"icon-origem":["fal","circle"],"icon-destino":["fal","map-location-dot"]}})],1)}),[],!1,null,null,null).exports,x={props:{survey:null},watch:{surveyAnswer:function(e){this.$emit("input",e)}},data:function(){return{surveyAnswer:null}}},C=Object(m.a)(x,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("p",{staticClass:"text-3 fw-bold"},[e._v(e._s(e.survey.question))]),e._v(" "),o("ada-item-group",{staticClass:"d-flex mt-2 fw-wrap",model:{value:e.surveyAnswer,callback:function(t){e.surveyAnswer=t},expression:"surveyAnswer"}},e._l(e.survey.choices,(function(t){return o("ada-item",{key:t,attrs:{value:t},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.isActive,c=r.toggle;return[o("ada-badge",{staticClass:"mb-1 mr-1 ws-nowrap",attrs:{selected:n,selectable:"",large:""},on:{click:c}},[e._v("\n          "+e._s(t)+"\n        ")])]}}],null,!0)})})),1)],1)])}),[],!1,null,null,null).exports,k={props:{grupo:null},data:function(){return{rating:null,hover:null}},methods:{setRating:function(e){this.rating=e,this.$emit("input",e)},getRatingCaption:function(){return{1:"Péssima",2:"Ruim",3:"Esperava ser melhor",4:"Boa, mas teve um probleminha",5:"Ótima"}[this.rating]}}},O=(o(1919),{data:function(){return{selectedCategoria:null,selectedSubcategoria:null,categorias:{Motorista:["Velocidade","Profissionalismo","Direção","Comunicação"],"Ônibus":["Poltrona","Limpeza","Ar-condicionado","Tomadas"],"Ponto de Embarque":["Localização","Estrutura","Segurança","Sinalização"],Viagem:["Horário","Paradas","Roteiro","Outros passageiros"]},subcategorias:[]}},methods:{onChangeCategoria:function(e){this.subcategorias=this.categorias[e],this.onChangeChoice()},onChangeSubcategoria:function(e){this.onChangeChoice()},onChangeChoice:function(){var e={categoria:this.selectedCategoria,subcategoria:this.selectedSubcategoria};this.$emit("input",e)},clearAll:function(){this.selectedSubcategoria=null,this.selectedCategoria=null,this.onChangeChoice()},clearSubcategoria:function(){this.selectedSubcategoria=null,this.onChangeChoice()}}}),S={components:{detalhesDaViagem:y,pesquisaDeOpiniao:C,starRating:Object(m.a)(k,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"star-rating"},[o("div",{staticClass:"star-rating-icons"},e._l(5,(function(t){return o("fa",{key:t,staticClass:"star-rating-icon",class:{"is-selected":t<=e.rating||t<=e.hover},attrs:{icon:t<=e.rating||t<=e.hover?["fas","star"]:["fal","star"]},on:{click:function(o){return e.setRating(t)},mouseover:function(o){e.hover=t},mouseleave:function(t){e.hover=null}}})})),1),e._v(" "),e.rating?o("div",{staticClass:"star-rating-caption"},[e._v("\n    "+e._s(e.getRatingCaption())+"\n  ")]):e._e()])}),[],!1,null,"078638be",null).exports,sugestaoDeMelhoria:Object(m.a)(O,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("p",{staticClass:"text-3 fw-bold"},[e._v("O que precisamos melhorar?")]),e._v(" "),e.selectedCategoria?o("div",{staticClass:"mt-2 display-flex fd-column jc-center ai-center"},[o("ada-badge",{attrs:{selectable:"",large:"",selected:""},on:{click:e.clearAll}},[e._v(e._s(e.selectedCategoria))]),e._v(" "),o("fa",{directives:[{name:"show",rawName:"v-show",value:e.selectedCategoria||e.selectedSubcategoria,expression:"selectedCategoria || selectedSubcategoria"}],staticClass:"mt-1 text-primary fs-xxs",attrs:{icon:["fas","chevron-down"]}}),e._v(" "),o("ada-badge",{directives:[{name:"show",rawName:"v-show",value:e.selectedSubcategoria,expression:"selectedSubcategoria"}],staticClass:"mt-1",attrs:{selectable:"",large:"",selected:""},on:{click:e.clearSubcategoria}},[e._v(e._s(e.selectedSubcategoria))])],1):e._e(),e._v(" "),e.selectedCategoria?e._e():o("ada-item-group",{staticClass:"mt-1 d-flex jc-center fw-wrap",on:{input:e.onChangeCategoria},model:{value:e.selectedCategoria,callback:function(t){e.selectedCategoria=t},expression:"selectedCategoria"}},e._l(e.categorias,(function(t,r){return o("ada-item",{key:r,attrs:{value:r},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.isActive,c=t.toggle;return[o("ada-badge",{staticClass:"mb-1 mr-1 ws-nowrap",attrs:{selected:n,selectable:"",large:""},on:{click:c}},[e._v("\n        "+e._s(r)+"\n      ")])]}}],null,!0)})})),1),e._v(" "),e.selectedCategoria&&!e.selectedSubcategoria&&e.subcategorias.length>0?o("ada-item-group",{key:""+e.selectedCategoria,staticClass:"mt-1 d-flex jc-center fw-wrap",on:{input:e.onChangeChoice},model:{value:e.selectedSubcategoria,callback:function(t){e.selectedSubcategoria=t},expression:"selectedSubcategoria"}},e._l(e.subcategorias,(function(t){return o("ada-item",{key:t,attrs:{value:t},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.isActive,c=r.toggle;return[o("ada-badge",{staticClass:"mb-1 mr-1 ws-nowrap",attrs:{selected:n,selectable:"",large:""},on:{click:c}},[e._v("\n        "+e._s(t)+"\n      ")])]}}],null,!0)})})),1):e._e()],1)}),[],!1,null,null,null).exports},props:{travelToRate:null},data:function(){return{rating:null,selectedCategoria:null,selectedSubcategoria:null,surveyAnswer:null,comment:null,sugestaoMelhoria:{categoria:null,subcategoria:null}}},watch:{rating:function(e){5===e?(this.sugestaoMelhoria.categoria=null,this.sugestaoMelhoria.subcategoria=null):this.surveyAnswer=null}},methods:{enviarAvaliacao:function(){var e=this;return Object(f.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={rating:e.rating,categoria:e.sugestaoMelhoria.categoria,subCategoria:e.sugestaoMelhoria.subcategoria,comment:e.comment,surveyAnswer:null},e.surveyAnswer&&e.travelToRate.survey&&(o.surveyAnswer={id:e.travelToRate.survey.id,answer:e.surveyAnswer}),t.next=4,c.a.passenger.travelFeedback(e.travelToRate.id,o);case 4:e.$emit("avaliacaoEnviada",e.rating);case 5:case"end":return t.stop()}}),t)})))()},avaliarDepois:function(){this.$emit("avaliacaoCancelada")},getCommentTitle:function(){return this.rating<3?"O que aconteceu?":this.rating<5?"Deixa sua crítica, sugestão ou elogio":5===this.rating?"Quer elogiar o motorista?":void 0}}},j=Object(m.a)(S,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.travelToRate?o("div",[e.rating?e._e():o("detalhes-da-viagem",{staticClass:"mt-3",attrs:{grupo:e.travelToRate.grupo}}),e._v(" "),o("star-rating",{staticClass:"mt-1",model:{value:e.rating,callback:function(t){e.rating=t},expression:"rating"}}),e._v(" "),e.travelToRate.survey&&5==e.rating?o("pesquisa-de-opiniao",{staticClass:"mt-1",attrs:{survey:e.travelToRate.survey},model:{value:e.surveyAnswer,callback:function(t){e.surveyAnswer=t},expression:"surveyAnswer"}}):e._e(),e._v(" "),e.rating&&e.rating<5?o("sugestao-de-melhoria",{staticClass:"mt-1",model:{value:e.sugestaoMelhoria,callback:function(t){e.sugestaoMelhoria=t},expression:"sugestaoMelhoria"}}):e._e(),e._v(" "),e.rating?o("ada-textarea",{staticClass:"mt-3",attrs:{label:e.getCommentTitle(),resizable:""},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}}):e._e(),e._v(" "),o("div",{staticClass:"ta-center mt-3"},[e.rating?o("ada-button",{attrs:{color:"primary"},on:{click:e.enviarAvaliacao}},[e._v("\n      Enviar avaliação\n    ")]):o("ada-button",{staticClass:"mt-1",attrs:{color:"primary",transparent:""},on:{click:e.avaliarDepois}},[e._v("\n      Avaliar depois\n    ")])],1)],1):e._e()}),[],!1,null,null,null).exports,D=o(709),M=o(0),T=o(19);function P(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function B(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var I={name:"avaliacao-de-viagem",components:{popup:n.a,avaliacaoDeViagemConcluida:_,avaliacaoDoApp:v,avaliacaoDeViagemForm:j,mgmCallToAction:D.a},data:function(){return{step:"avaliacao_viagem",visible:!0,mgmCallToActionTitle:"Obrigado por avaliar a viagem"}},computed:B(B({},Object(T.mapGetters)({isOnApp:"settings/isApp"})),{},{travelToRate:function(){return this.$store.state.auth.currentUser&&this.$store.state.auth.currentUser.travel_to_rate},nextTravel:function(){return this.$store.state.auth.currentUser&&this.$store.state.auth.currentUser.next_travel},rateApp:function(){return this.$store.state.auth.currentUser&&this.$store.state.auth.currentUser.rate_app}}),methods:{avaliacaoEnviada:function(e){5===e&&this.isOnApp&&this.rateApp?this.step="avaliacao_app":this.step=5===e?"mgm_info":"avaliacao_concluida",M.a.$emit("avaliou-viagem",e)},hide:function(){this.visible=!1,this.$store.commit("auth/setCurrentUser",B(B({},this.$store.state.auth.currentUser),{},{travel_to_rate:null}))}}},A=Object(m.a)(I,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.travelToRate&&!e.nextTravel?o("div",[o("client-only",[o("popup",{attrs:{persistent:"","modal-options":{maxWidth:"400px"},title:"Como foi a sua viagem?"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},["avaliacao_viagem"===e.step?o("avaliacao-de-viagem-form",{attrs:{travelToRate:e.travelToRate},on:{avaliacaoEnviada:e.avaliacaoEnviada,avaliacaoCancelada:e.hide}}):"avaliacao_app"===e.step&&e.rateApp&&e.isOnApp?o("avaliacao-do-app",{on:{close:e.hide}}):"avaliacao_concluida"===e.step?o("avaliacao-de-viagem-concluida",{on:{close:e.hide}}):"mgm_info"===e.step?o("mgm-call-to-action",{attrs:{title:e.mgmCallToActionTitle},on:{skip:e.hide}}):e._e()],1)],1)],1):e._e()}),[],!1,null,null,null);t.default=A.exports},336:function(e,t,o){"use strict";o.r(t),o.d(t,"LOGIN_STEPS",(function(){return we}));o(12),o(13),o(16),o(20),o(21);var r=o(7),n=(o(51),o(32),o(195),o(10),o(19)),c=o(28),l=o(40),d=o(0),m=o(29),v=o(63),h=o(25),_={width:"35ch",height:"2.5rem",style:{marginInline:"auto",marginBlock:"40px"}},f={width:"100%",height:"3rem",style:{marginBottom:"32px"}},w={width:"100%",height:"2.5rem",borderRadius:"4px",style:{marginBottom:"24px"}},y={width:"12ch",height:"1rem",borderRadius:"4px",style:{marginInline:"auto"}},x={width:"100%",height:"0",style:{marginTop:"24px"}},C={width:"24ch",height:"1.5rem",style:{marginInline:"auto",marginBottom:"8px"}},k=[{width:"72px",height:"72px",borderRadius:"50%",style:{marginInline:"auto",marginBottom:"16px"}},C,y,x,x],O=[x,x,x,C,x,x],S={props:{step:{type:String,required:!0,validator:function(e){return Object.values(we).includes(e)}},options:{type:Object,default:function(){return{}}}},computed:{layouts:function(){var e,t,o,r,n,c,l,d;return{entrar:[_,f,w,null!==(e=this.options)&&void 0!==e&&null!==(t=e.entrar)&&void 0!==t&&t.hideSignup?[]:[y],null!==(o=this.options)&&void 0!==o&&null!==(r=o.entrar)&&void 0!==r&&r.hideSocial?[]:[x,x,x,w,w]],senha:[].concat(k,[f,w,y]),token:[].concat(k,O),social:[].concat(k,[w,y]),"nova-senha":[].concat(k,O),cadastro:[_,x,x,f,f,f,null!==(n=this.options)&&void 0!==n&&null!==(c=n.cadastro)&&void 0!==c&&c.hideOptionalFields?[]:[f,f],null!==(l=this.options)&&void 0!==l&&null!==(d=l.cadastro)&&void 0!==d&&d.hidePassword?[]:[f],C,x,w,y]}||[]},layout:function(){return this.layouts[this.step].flat()}}},j=o(4),D=Object(j.a)(S,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",e._l(e.layout,(function(e,t){return o("ada-skeleton",{key:t,style:e.style,attrs:{width:e.width,height:e.height,"border-radius":e.borderRadius}})})),1)}),[],!1,null,null,null).exports,M={props:{user:{type:Object,required:!0}},methods:{notMe:function(){this.$emit("not-me")}}},T=Object(j.a)(M,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ta-center mb-3"},[o("ada-avatar",{attrs:{img:e.user.photo_url,size:"72px"}}),e._v(" "),o("h1",{staticClass:"title-1 mt-1"},[e._v(e._s(e.user.name))]),e._v(" "),o("ada-button",{attrs:{role:"link",transparent:"",small:""},on:{click:e.notMe}},[e._v("\n    Entrar com outra conta\n  ")])],1)}),[],!1,null,null,null).exports,P=o(2),B=(o(17),o(3)),I=o(38),A={facebook:{endpoint:"/login/facebook",button:{text:"o Facebook",icon:o(724)}},google:{endpoint:"/login/google-oauth2",button:{text:"o Google",icon:o(725)}},apple:{endpoint:"/login/apple-id",button:{text:"a Apple",icon:o(726)}}},E={props:{provider:{type:String,required:!0,validator:function(e){return["facebook","google","apple"].includes(e)}}},data:function(){return{loggingIn:!1}},computed:{providerConfig:function(){return A[this.provider]}},methods:{login:function(){this.loggingIn=!0,window.location.href="".concat(this.providerConfig.endpoint,"?next=").concat(this.$route.query.next||"/")}}},R=Object(j.a)(E,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ada-button",{attrs:{disabled:e.loggingIn,color:"white",block:""},on:{click:e.login}},[o("img",{staticClass:"mr-2",attrs:{src:e.providerConfig.button.icon,width:"18",height:"18"}}),e._v(" "),e.loggingIn?[e._v("\n    Continuando com "+e._s(e.providerConfig.button.text)+"...\n  ")]:[e._v("\n    Continuar com "+e._s(e.providerConfig.button.text)+"\n  ")]],2)}),[],!1,null,null,null).exports;function L(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}var z={components:{socialLoginButton:R},props:{value:{type:String,required:!0},origin:{type:String,default:null},title:{type:String,default:""},subtitle:{type:String,default:""},showInactiveAlert:{type:Boolean,default:!1},hideSignup:{type:Boolean,default:!1},hideSocial:{type:Boolean,default:!1}},data:function(){return{finding:!1,noUsersFound:!1,isUserBlocked:!1,error:null,rules:I.a}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(n.mapGetters)({isAndroidApp:"settings/isAndroidApp"})),mounted:function(){d.a.$emit("acessou-login",{source:this.origin})},methods:{onUserIdentifierChange:function(e){this.noUsersFound=!1,this.isUserBlocked=!1,this.error=null,this.$emit("input",e.trim())},findUser:function(){var e=this;return Object(P.a)(regeneratorRuntime.mark((function t(){var o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.finding=!0,!e.value.includes("@buser.com.br")){t.next=4;break}return e.forceGoogleLogin(),t.abrupt("return");case 4:return t.prev=4,t.next=7,e.$recaptcha.execute("find_user");case 7:return o=t.sent,t.next=10,B.a.auth.findUser(e.value,o);case 10:if((r=t.sent).id){t.next=15;break}return e.noUsersFound=!0,e.$emit("user-not-found"),t.abrupt("return");case 15:if(!r.is_blocked){t.next=18;break}return e.isUserBlocked=!0,t.abrupt("return");case 18:e.$emit("user-found",r),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(4),e.error=t.t0.message||"Algo deu errado. Por favor, atualize a página e tente novamente.";case 24:return t.prev=24,e.finding=!1,t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[4,21,24,27]])})))()},goToSignup:function(){this.$emit("signup")},forceGoogleLogin:function(){this.$refs.googleSocialButton.$el.click()}}},V=z,Y=(o(727),Object(j.a)(V,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"user-identification"},[e.title?o("h1",{staticClass:"title-2 mb-1"},[e._v(e._s(e.title))]):o("h1",{staticClass:"title-2 mt-4 mb-5 ta-center"},[e._v("Boas-vindas à Buser!")]),e._v(" "),e.subtitle?o("p",{staticClass:"mb-3"},[e._v(e._s(e.subtitle))]):e._e(),e._v(" "),e.showInactiveAlert?o("ada-alert",{staticClass:"mb-2",attrs:{type:"warning"}},[o("div",[o("p",{staticClass:"fw-bold"},[e._v("Sua conta foi desativada.")]),e._v(" "),o("p",[e._v("Para reativar sua conta, entre usando seus dados antigos. Você poderá usar o site como antes.")])])]):e._e(),e._v(" "),e.noUsersFound?o("ada-alert",{staticClass:"mb-2",attrs:{type:"error"}},[e._v("\n    Não conseguimos encontrar nenhum usuário com estes dados.\n    Verifique se foi digitado corretamente ou crie uma nova conta.\n  ")]):e._e(),e._v(" "),e.isUserBlocked?o("ada-alert",{staticClass:"mb-2",attrs:{type:"error"}},[o("div",[o("p",{staticClass:"fw-bold"},[e._v("Este usuário foi bloqueado.")]),e._v(" "),o("p",[e._v("Por favor entre em contato com o suporte para mais informações.")])])]):e._e(),e._v(" "),o("ada-form",{on:{submit:function(t){return t.preventDefault(),e.findUser.apply(null,arguments)}}},[o("ada-input",{attrs:{value:e.value,rules:[e.rules.required,e.rules.emailOrCPFOrBrazilianPhone],placeholder:"Digite seu email, telefone ou CPF",label:"Email, telefone ou CPF",name:"username",maxlength:"150",autofocus:""},on:{input:e.onUserIdentifierChange}}),e._v(" "),e.error?o("p",{staticClass:"text-red text-1 fw-bold"},[e._v("\n      "+e._s(e.error)+"\n    ")]):e._e(),e._v(" "),o("ada-button",{staticClass:"mt-3",attrs:{disabled:e.finding,type:"submit",block:""}},[e.finding?[e._v("\n        Procurando usuário...\n      ")]:[e._v("\n        Continuar\n      ")]],2)],1),e._v(" "),e.hideSignup?e._e():o("ada-button",{staticClass:"mt-1",attrs:{role:"link",transparent:"",block:""},on:{click:e.goToSignup}},[e._v("\n    Criar conta\n  ")]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideSocial,expression:"!hideSocial"}]},[o("div",{staticClass:"ui-social-divider"},[o("ada-divider"),e._v(" "),o("p",{staticClass:"uisd-text"},[e._v("ou continue com")])],1),e._v(" "),o("social-login-button",{ref:"googleSocialButton",staticClass:"mb-1",attrs:{provider:"google"}}),e._v(" "),o("social-login-button",{staticClass:"mb-1",attrs:{provider:"apple"}}),e._v(" "),e._e()],1)],1)}),[],!1,null,"21b24acc",null)),F=Y.exports,U=o(199),H={components:{passwordInput:U.a},props:{user:{type:Object,default:function(){return{}}}},data:function(){return{loggingIn:!1,password:"",error:null}},mounted:function(){d.a.$emit("acessou-colocar-senha")},methods:{onPasswordChange:function(){this.error=null},login:function(){var e=this;return Object(P.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loggingIn=!0,t.prev=1,t.next=4,B.a.auth.loginUser(e.user.id,e.password);case 4:if(!(o=t.sent).error){t.next=7;break}throw new Error(o.error);case 7:e.$emit("login",{method:"login-via-password",user:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.error=t.t0.message||"Erro desconhecido. Tente novamente mais tarde.";case 13:return t.prev=13,e.loggingIn=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})))()},recoverPassword:function(){this.$emit("recover-password")}}},$=Object(j.a)(H,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("ada-form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[o("password-input",{attrs:{autofocus:""},on:{input:e.onPasswordChange},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),e.error?o("p",{staticClass:"text-red text-1 fw-bold"},[e._v("\n      "+e._s(e.error)+"\n    ")]):e._e(),e._v(" "),o("ada-button",{staticClass:"mt-3",attrs:{disabled:e.loggingIn,type:"submit",block:""}},[e.loggingIn?[e._v("\n        Entrando...\n      ")]:[e._v("\n        Entrar\n      ")]],2)],1),e._v(" "),o("ada-button",{staticClass:"mt-1",attrs:{role:"link",transparent:"",block:""},on:{click:e.recoverPassword}},[e._v("\n    Esqueci minha senha\n  ")])],1)}),[],!1,null,null,null),N=$.exports;function G(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}var J={components:{socialLoginButton:R},props:{user:{type:Object,default:function(){return{}}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?G(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):G(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(n.mapGetters)({isAndroidApp:"settings/isAndroidApp"})),mounted:function(){d.a.$emit("acessou-definicao-senha-social")},methods:{newPassword:function(){this.$emit("new-password")}}},Z=J,W=Object(j.a)(Z,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.user&&e.user.has_google?o("social-login-button",{attrs:{provider:"google"}}):e._e(),e._v(" "),e._e(),e._v(" "),e.user&&e.user.has_apple?o("social-login-button",{attrs:{provider:"apple"}}):e._e(),e._v(" "),o("ada-button",{staticClass:"mt-1",attrs:{role:"link",transparent:"",block:""},on:{click:e.newPassword}},[e._v("\n    Definir uma senha\n  ")])],1)}),[],!1,null,null,null).exports,Q={props:{user:{type:Object,default:function(){return{}}}},data:function(){return{token:"",sendingToken:!0,sendTokenError:null,sendTokenCountdown:0,sendTokenCountdownInterval:null,loggingIn:!1,loginError:null,rules:I.a}},mounted:function(){this.sendLoginToken(),d.a.$emit("acessou-token")},destroyed:function(){clearInterval(this.sendTokenCountdownInterval)},methods:{sendLoginToken:function(){var e=this;return Object(P.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.sendTokenError=null,e.sendingToken=!0,t.next=5,B.a.auth.sendLoginToken(e.user.id);case 5:e.setTokenCountdown(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.sendTokenError=t.t0.message||"Erro desconhecido. Tente novamente mais tarde.";case 11:return t.prev=11,e.sendingToken=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()},setTokenCountdown:function(){var e=this;this.sendTokenCountdown=60,this.sendTokenCountdownInterval=setInterval((function(){e.sendTokenCountdown<=0?clearInterval(e.sendTokenCountdownInterval):e.sendTokenCountdown--}),1e3)},login:function(){var e=this;return Object(P.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loggingIn=!0,t.next=4,B.a.auth.loginComToken(e.user.id,e.token);case 4:if(!(o=t.sent).error){t.next=7;break}throw new Error(o.error);case 7:e.$emit("login",{method:"login-via-token",user:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.loginError=t.t0.message||"Erro desconhecido. Tente novamente mais tarde.";case 13:return t.prev=13,e.loggingIn=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})))()},newPassword:function(){this.$emit("new-password")}}},X=Object(j.a)(Q,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.sendingToken?o("div",{staticClass:"py-4 ta-center"},[o("ada-loader"),e._v(" "),o("p",{staticClass:"fw-bold mt-3"},[e._v("Enviando código de acesso...")])],1):e.sendTokenError?o("div",{staticClass:"ta-center"},[o("fa",{staticClass:"my-2",attrs:{color:"red",icon:["fas","circle-exclamation"],size:"2x"}}),e._v(" "),o("h2",{staticClass:"title-0 mb-2"},[e._v("Não conseguimos enviar o código de acesso")]),e._v(" "),o("p",[e._v("Tente novamente mais tarde. Motivo: "+e._s(e.sendTokenError))]),e._v(" "),o("ada-button",{staticClass:"mt-1",attrs:{transparent:"",block:""},on:{click:e.sendLoginToken}},[e._v("\n      Tentar novamente\n    ")])],1):[o("p",{staticClass:"mb-1"},[e._v("Enviamos um código de acesso de 6 dígitos para seu email e telefone.")]),e._v(" "),o("ada-form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[o("ada-input",{attrs:{label:"Código de acesso",placeholder:"000000",maxlength:"6",autofocus:"",rules:[e.rules.required,e.rules.exactLength(6),e.rules.number]},on:{input:function(t){e.loginError=null}},scopedSlots:e._u([{key:"end",fn:function(){return[o("ada-button",{attrs:{disabled:e.sendTokenCountdown>0,transparent:"",small:""},on:{click:e.sendLoginToken}},[e.sendTokenCountdown>0?[e._v("\n              Reenviar em "+e._s(e.sendTokenCountdown)+"\n            ")]:[e._v("\n              Reenviar código\n            ")]],2)]},proxy:!0}]),model:{value:e.token,callback:function(t){e.token=t},expression:"token"}}),e._v(" "),e.loginError?o("p",{staticClass:"text-red text-1 fw-bold"},[e._v("\n        "+e._s(e.loginError)+"\n      ")]):e._e(),e._v(" "),o("ada-button",{staticClass:"mt-3",attrs:{disabled:e.loggingIn,type:"submit",block:""}},[e.loggingIn?[e._v("\n          Entrando...\n        ")]:[e._v("\n          Entrar\n        ")]],2)],1)],e._v(" "),e.sendingToken?e._e():o("ada-button",{staticClass:"mt-1",attrs:{role:"link",transparent:"",block:""},on:{click:e.newPassword}},[e._v("\n    Definir uma senha\n  ")])],2)}),[],!1,null,null,null),K=X.exports,ee={props:{user:{type:Object,default:function(){return{}}}},data:function(){return{sending:!0,error:null}},computed:{content:function(){var e;return this.error?{icon:["fas","circle-exclamation"],title:"Não conseguimos enviar instruções para seu email/celular",text:"Tente novamente mais tarde. Motivo: ".concat(this.error),color:"red"}:{icon:["fas","circle-check"],title:"Enviamos um email/SMS para você",text:"Siga as instruções do email/SMS para ".concat(null!==(e=this.user)&&void 0!==e&&e.has_password?"redefinir":"criar"," sua senha e retorne para utilizá-la."),color:"green"}}},mounted:function(){this.user.id&&this.forgotPassword()},methods:{forgotPassword:function(){var e=this;return Object(P.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.error=null,e.sending=!0,t.next=5,B.a.auth.forgotPassword(e.user.id);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.error=t.t0.message||"Erro desconhecido. Tente novamente mais tarde.";case 10:return t.prev=10,e.sending=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})))()},neverMind:function(){this.$emit("never-mind")}}},te=Object(j.a)(ee,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ta-center"},[e.sending?o("div",{staticClass:"py-4"},[o("ada-loader"),e._v(" "),o("p",{staticClass:"fw-bold mt-3"},[e._v("Enviando instruções...")])],1):o("div",[o("fa",{staticClass:"my-2",attrs:{color:e.content.color,icon:e.content.icon,size:"2x"}}),e._v(" "),o("h2",{staticClass:"title-0 mb-2"},[e._v(e._s(e.content.title))]),e._v(" "),o("p",[e._v(e._s(e.content.text))]),e._v(" "),e.error?o("ada-button",{staticClass:"mt-1",attrs:{transparent:"",block:""},on:{click:e.forgotPassword}},[e._v("\n      Tentar novamente\n    ")]):e._e(),e._v(" "),o("ada-button",{staticClass:"mt-1",attrs:{role:"link",transparent:"",block:""},on:{click:e.neverMind}},[e._v("\n      Entrar com a minha nova senha\n    ")])],1)])}),[],!1,null,null,null).exports,ae=o(73),oe=o(24),re=o(201),ie={components:{passwordInput:U.a},props:{title:{type:String,default:""},subtitle:{type:String,default:""},userIdentifier:{type:String,default:""},hideOptionalFields:{type:Boolean,default:!1},hidePassword:{type:Boolean,default:!1}},data:function(){return{userData:{},signingUp:!1,error:null,rules:I.a}},mounted:function(){this.setInitialData(),d.a.$emit("acessou-cadastro")},methods:{setInitialData:function(){var e=this.$route.query,t=e.phone,o=e.email;if(t||o)return this.setUserData("phone",t),void this.setUserData("email",o);this.userIdentifier&&(oe.a.isValidEmail(this.userIdentifier,!0)?this.setUserData("email",this.userIdentifier):Object(ae.isValid)(this.userIdentifier)?this.setUserData("cpf",this.userIdentifier):oe.a.isValidMobilePhoneBr(this.userIdentifier)&&this.setUserData("phone",this.userIdentifier))},setUserData:function(e,t){t&&!this.userData[e]&&this.$set(this.userData,e,t)},signup:function(){var e=this;return Object(P.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.signingUp=!0,t.next=4,B.a.auth.userSignUp(e.userData);case 4:if(!(o=t.sent).error){t.next=7;break}throw new Error(o.error);case 7:e.userData.code&&(Object(re.a)(!0),d.a.$emit("adicionou-cupom",{cupom:e.userData.code,source:"cadastro"})),d.a.$emit("cadastro",{user:o,user_id:o.id,crm_id:o.id,campoCpf:e.userData.cpf,campoConvite:e.userData.code}),e.$emit("user-signed-up",o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.error=t.t0.message||"Não foi possível realizar seu cadastro. Tente novamente em instantes.";case 15:return t.prev=15,e.signingUp=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,12,15,18]])})))()},hasAccount:function(){this.$emit("has-account")}}},ne=(o(728),Object(j.a)(ie,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"user-signup"},[e.title?o("h1",{staticClass:"title-2 mb-1"},[e._v(e._s(e.title))]):o("h1",{staticClass:"us-title title-2"},[e._v("Cadastre-se e viaje de Buser.")]),e._v(" "),e.subtitle?o("p",{staticClass:"mb-3"},[e._v(e._s(e.subtitle))]):e._e(),e._v(" "),o("ada-form",{on:{submit:function(t){return t.preventDefault(),e.signup.apply(null,arguments)}}},[o("ada-input",{staticClass:"mb-3",attrs:{rules:[e.rules.required],placeholder:"Digite seu nome completo",label:"Nome completo",maxlength:"150",name:"name",autofocus:""},model:{value:e.userData.name,callback:function(t){e.$set(e.userData,"name","string"==typeof t?t.trim():t)},expression:"userData.name"}}),e._v(" "),o("ada-input",{staticClass:"mb-3",attrs:{rules:[e.rules.required,function(t){return e.rules.email(t,!0,!0)}],placeholder:"Digite seu email",inputmode:"email",maxlength:"150",label:"Email",name:"email"},model:{value:e.userData.email,callback:function(t){e.$set(e.userData,"email","string"==typeof t?t.trim():t)},expression:"userData.email"}}),e._v(" "),e.hideOptionalFields?e._e():o("ada-input",{staticClass:"mb-3",attrs:{rules:[e.rules.cpfOpcional],placeholder:"Digite seu CPF",label:"CPF (opcional)",mask:"000.000.000-00",inputmode:"numeric",maxlength:"14",name:"cpf"},model:{value:e.userData.cpf,callback:function(t){e.$set(e.userData,"cpf",t)},expression:"userData.cpf"}}),e._v(" "),o("ada-input",{staticClass:"mb-3",attrs:{rules:[e.rules.required,e.rules.phone_mobile_br],placeholder:"Digite seu celular",mask:"(00) 00000-0000",inputmode:"numeric",label:"Celular",maxlength:"15",name:"phone"},model:{value:e.userData.phone,callback:function(t){e.$set(e.userData,"phone","string"==typeof t?t.trim():t)},expression:"userData.phone"}}),e._v(" "),e.hidePassword?e._e():o("password-input",{staticClass:"mb-3",model:{value:e.userData.password,callback:function(t){e.$set(e.userData,"password",t)},expression:"userData.password"}}),e._v(" "),e.hideOptionalFields?e._e():o("ada-input",{staticClass:"mb-3",attrs:{placeholder:"Digite o código do convite",label:"Convite (opcional)",maxlength:"16"},model:{value:e.userData.code,callback:function(t){e.$set(e.userData,"code",t)},expression:"userData.code"}}),e._v(" "),o("p",{staticClass:"mb-3"},[e._v("\n      Ao fazer seu cadastro você concorda com a nossa\n      "),o("a",{attrs:{href:"/sobre/politica-de-privacidade",target:"_blank"}},[e._v("política de privacidade")]),e._v(".\n    ")]),e._v(" "),e.error?o("p",{staticClass:"text-red text-1 fw-bold mb-3"},[e._v("\n      "+e._s(e.error)+"\n    ")]):e._e(),e._v(" "),o("ada-button",{attrs:{disabled:e.signingUp,type:"submit",block:""}},[e.signingUp?[e._v("\n        Cadastrando...\n      ")]:[e._v("\n        Cadastrar\n      ")]],2),e._v(" "),o("ada-button",{staticClass:"mt-1",attrs:{role:"link",transparent:"",block:""},on:{click:e.hasAccount}},[e._v("\n      Já tenho cadastro\n    ")])],1)],1)}),[],!1,null,"342f748a",null)),se=ne.exports,ce=(o(95),o(757)),le=o(758),ue={props:{showVolta:{type:Boolean,default:!1}}},de=Object(j.a)(ue,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("ada-skeleton",{staticClass:"mb-1",attrs:{width:"50px",height:"20px"}}),e._v(" "),o("ada-card",{staticClass:"p-2",attrs:{outlined:"",rounded:""}},[o("ada-skeleton",{staticClass:"mb-2",attrs:{width:"100%",height:"30px"}}),e._v(" "),o("ada-skeleton",{attrs:{width:"100%",height:"20px"}})],1),e._v(" "),e.showVolta?[o("ada-skeleton",{staticClass:"mt-3 mb-1",attrs:{width:"50px",height:"20px"}}),e._v(" "),o("ada-card",{staticClass:"p-2",attrs:{outlined:"",rounded:""}},[o("ada-skeleton",{staticClass:"mb-2",attrs:{width:"100%",height:"30px"}}),e._v(" "),o("ada-skeleton",{attrs:{width:"100%",height:"20px"}})],1)]:e._e()],2)}),[],!1,null,null,null).exports;function pe(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}var me={components:{grupo:ce.a,poltronasModal:le.a,groupsPreviewSkeleton:de},props:{idGrupoIda:{type:[String,Number],default:null},idGrupoVolta:{type:[String,Number],default:null}},data:function(){return{loading:!0}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?pe(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):pe(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(n.mapGetters)("reservation",{grupoIdaPreview:"getIdaPreview",grupoVoltaPreview:"getVoltaPreview"})),mounted:function(){var e=this;return Object(P.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.idGrupoIda&&!e.idGrupoVolta){t.next=4;break}return t.next=3,e.$store.dispatch("reservation/setupPreviewData",{idGrupoIda:e.idGrupoIda,idGrupoVolta:e.idGrupoVolta});case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()}},ge=me,ve=Object(j.a)(ge,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.idGrupoIda||e.idGrupoVolta?o("div",[o("h2",{staticClass:"title-1 mb-2"},[e._v("\n    "+e._s(e.idGrupoIda&&e.idGrupoVolta?"Viagens Selecionadas":"Viagem selecionada")+"\n  ")]),e._v(" "),e.loading?o("groups-preview-skeleton",{attrs:{"show-volta":!!e.idGrupoVolta,"data-testid":"groups-preview-loader"}}):[e.grupoIdaPreview?[o("h3",{staticClass:"fw-bold text-2"},[e._v("Ida")]),e._v(" "),o("grupo",{attrs:{grupo:e.grupoIdaPreview,"hide-preco":"","read-only":""}})]:e._e(),e._v(" "),e.grupoVoltaPreview?[o("h3",{staticClass:"fw-bold text-2"},[e._v("Volta")]),e._v(" "),o("grupo",{attrs:{grupo:e.grupoVoltaPreview,"hide-preco":"","read-only":""}})]:e._e()],e._v(" "),o("poltronas-modal")],2):e._e()}),[],!1,null,null,null).exports,he=o(653),_e=o(709);function fe(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function be(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?fe(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):fe(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var we={identification:"entrar",password:"senha",token:"token",social:"social",newPassword:"nova-senha",signup:"cadastro"},ye=["via-convite","via-reserva","via-landing-page","via-conta-desativada"],xe=[we.password,we.token,we.social,we.newPassword],Ce="user-found",ke="user-identifier",Oe={layout:"andromeda",middleware:"unlogged-user",components:{userFoundInfo:T,loginPassword:N,loginSocial:W,loginToken:K,loginSkeleton:D,userIdentification:F,newPassword:te,userSignup:se,groupsPreview:ve,popup:he.a,mgmCallToAction:_e.a},props:{step:{type:String,default:we.identification,validator:function(e){return Object.values(we).includes(e)}},origin:{type:String,default:null,validtor:function(e){return ye.includes(e)}}},data:function(){return{initializing:!0,redirecting:!1,steps:we,userIdentificationTitle:"",userIdentificationSubtitle:"",userSignupTitle:"",userSignupSubtitle:"",userIdentifier:"",user:null,showMGMPopup:!1}},computed:be(be({},Object(n.mapGetters)("lead",{leadPhone:"phone"})),{},{isViaReserva:function(){return"via-reserva"===this.origin},isViaContaDesativada:function(){return"via-conta-desativada"===this.origin},isViaConvite:function(){return"via-convite"===this.origin},isViaLandingPage:function(){return"via-landing-page"===this.origin},simplifiedSignup:function(){return this.isViaReserva||this.isViaLandingPage||this.isViaConvite},idGrupoIda:function(){return this.$route.query.idIda},idGrupoVolta:function(){return this.$route.query.idVolta},userFoundInfoVisible:function(){return!!this.user&&xe.includes(this.step)},next:function(){return this.$route.query.next||"/"}}),beforeRouteUpdate:function(e,t,o){var r=!e.params.step||e.params.step===this.steps.identification,n=t.params.step&&xe.includes(t.params.step);r&&n&&this.removeUserFound(),o()},mounted:function(){return this.userIdentifier=this.loadUserIdentifier(),this.user=this.loadUserFound(),this.isViaReserva?(this.userIdentificationTitle="Para sua reserva ficar ainda melhor...",this.userIdentificationSubtitle="Coloque sua informação abaixo para checarmos se você tem promoções e passageiros salvos.",this.userSignupTitle="Não encontramos você, mas...",this.userSignupSubtitle="Preencha só mais esses dados para passar a ter suas informações e promoções salvas."):this.isViaConvite?(this.userSignupTitle="Dados para cadastro",this.userSignupSubtitle="Só mais isso, e pronto! :)"):this.isViaContaDesativada&&(this.userIdentificationTitle="Esperamos que você retorne em breve!",this.removeUserFound()),this.user&&this.step===this.steps.identification?this.redirectUserFound(this.user):!this.user&&xe.includes(this.step)?this.goToStep(this.steps.identification):void(this.initializing=!1)},methods:{onUserFound:function(e){this.persistUserFound(e),this.redirectUserFound(e)},onUserNotFound:function(){this.isViaReserva&&(this.persistUserIdentifier(),this.goToStep(this.steps.signup))},onNotMe:function(){this.redirecting=!0,this.removeUserFound(),this.removeUserIdentifier(),this.goToStep(this.steps.identification)},onUserSignedUp:function(e){this.setCurrentUser(e);var t=this.isViaConvite?1:3;h.a.setItem("enviou-sms","sim",t),"/"!==this.next||this.isViaConvite||this.isViaReserva?this.goToNextPage():this.showMGMPopup=!0},onLogin:function(e){var t=e.user,o=e.method;this.setCurrentUser(t),d.a.$emit("login",{user_id:t.id,crm_id:t.id,method:o}),this.goToNextPage()},setCurrentUser:function(e){this.$store.commit("auth/setCurrentUser",e),v.a.setUser()},goToNextPage:function(){this.redirecting=!0,m.a.push(this.next,this.$route.name,null,null,this.$router)},goToSignup:function(){this.persistUserIdentifier(),this.goToStep(this.steps.signup)},goToStep:function(e){if(e!==this.step){var t={step:e,origin:this.origin};m.a.push("novoLogin",this.$route.name,t,this.$route.query,this.$router)}},persistUserIdentifier:function(){l.a.set(ke,this.userIdentifier)},loadUserIdentifier:function(){return l.a.get(ke)||this.leadPhone||""},removeUserIdentifier:function(){this.userIdentifier="",l.a.del(ke)},persistUserFound:function(e){l.a.set(Ce,JSON.stringify(e))},loadUserFound:function(){var e=l.a.get(Ce);return e?JSON.parse(e):null},removeUserFound:function(){this.user=null,l.a.del(Ce)},redirectUserFound:function(e){e.has_password?this.goToStep(this.steps.password):e.has_facebook||e.has_google||e.has_apple?this.goToStep(this.steps.social):e.token_eligible&&this.goToStep(this.steps.token)},closeMGMPopup:function(){this.showMGMPopup=!1,this.goToNextPage()}},head:function(){return be({},c.a.generateMetaTags({title:"Login",robots:"noindex, nofollow"}))}},Se=(o(739),Object(j.a)(Oe,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("ada-card",{staticClass:"l-container l-card",staticStyle:{"max-width":"420px","margin-inline":"auto",padding:"24px"},attrs:{elevation:"close",outlined:"",rounded:""}},[e.initializing?o("login-skeleton",{attrs:{step:e.step,options:{entrar:{hideSignup:e.isViaReserva,hideSocial:e.isViaReserva},cadastro:{hidePassword:e.simplifiedSignup,hideOptionalFields:e.simplifiedSignup}},"data-testid":"login-loader"}}):[e.userFoundInfoVisible?o("user-found-info",{attrs:{user:e.user},on:{"not-me":e.onNotMe}}):e._e(),e._v(" "),e.step===e.steps.identification?o("user-identification",{attrs:{origin:e.origin,title:e.userIdentificationTitle,subtitle:e.userIdentificationSubtitle,"show-inactive-alert":e.isViaContaDesativada,"hide-signup":e.isViaReserva,"hide-social":e.isViaReserva},on:{"user-found":e.onUserFound,"user-not-found":e.onUserNotFound,signup:e.goToSignup},model:{value:e.userIdentifier,callback:function(t){e.userIdentifier=t},expression:"userIdentifier"}}):e._e(),e._v(" "),e.step===e.steps.password?o("login-password",{attrs:{user:e.user},on:{login:e.onLogin,"recover-password":function(t){return e.goToStep(e.steps.newPassword)}}}):e._e(),e._v(" "),e.step===e.steps.social?o("login-social",{attrs:{user:e.user},on:{"new-password":function(t){return e.goToStep(e.steps.newPassword)}}}):e._e(),e._v(" "),e.step===e.steps.token?o("login-token",{attrs:{user:e.user},on:{login:e.onLogin,"new-password":function(t){return e.goToStep(e.steps.newPassword)}}}):e._e(),e._v(" "),e.step===e.steps.newPassword?o("new-password",{attrs:{user:e.user},on:{"never-mind":function(t){return e.goToStep(e.steps.password)}}}):e._e(),e._v(" "),e.step===e.steps.signup?o("user-signup",{attrs:{title:e.userSignupTitle,subtitle:e.userSignupSubtitle,"user-identifier":e.userIdentifier,"hide-password":e.simplifiedSignup,"hide-optional-fields":e.simplifiedSignup},on:{"user-signed-up":e.onUserSignedUp,"has-account":function(t){return e.goToStep(e.steps.identification)}}}):e._e(),e._v(" "),o("transition",{attrs:{name:"fade"}},[e.redirecting?o("div",{staticClass:"lc-redirecting"},[o("ada-loader"),e._v(" "),o("p",{staticClass:"fw-bold mt-3"},[e._v("Redirecionando...")])],1):e._e()])]],2),e._v(" "),e.isViaReserva?o("ada-container",[o("groups-preview",{attrs:{"id-grupo-ida":e.idGrupoIda,"id-grupo-volta":e.idGrupoVolta}})],1):e._e(),e._v(" "),o("popup",{attrs:{"modal-options":{maxWidth:"500px"},persistent:""},model:{value:e.showMGMPopup,callback:function(t){e.showMGMPopup=t},expression:"showMGMPopup"}},[o("mgm-call-to-action",{attrs:{title:"Seu cadastro foi concluído"},on:{skip:e.closeMGMPopup}})],1)],1)}),[],!1,null,"7d99092a",null));t.default=Se.exports},359:function(e,t,o){"use strict";o.r(t);var r=o(2),n=(o(17),o(27)),c=o(689),l=o.n(c),d=o(19),m=o(49),v=o(109),h=o(3),_=o(149),f=o(40),w=o(29),y=o(0),x=o(63),C=o(25),k=o(761),O=o(671);jest.spyOn(O.a,"set").mockReturnValue(!0),jest.mock("~/helpers/sentryhelper.js",(function(){return{setUser:jest.fn()}})),jest.mock("~/helpers/eventbus.js",(function(){return{$emit:jest.fn()}})),jest.mock("~/helpers/cookiehelper.js",(function(){return{setItem:jest.fn()}})),jest.mock("~/helpers/localstorage",(function(){return{set:jest.fn(),get:jest.fn(),del:jest.fn()}})),jest.mock("~/helpers/routehelper",(function(){return{push:jest.fn()}})),jest.mock("~api",(function(){return{auth:{findUser:jest.fn(),loginUser:jest.fn(),userSignUp:jest.fn(),sendLoginToken:jest.fn(),loginComToken:jest.fn(),forgotPassword:jest.fn()}}}));var S={setCurrentUser:jest.fn()},j={existsLead:jest.fn(),phone:jest.fn()},D={getIdaPreview:jest.fn(),getVoltaPreview:jest.fn()},M={setupPreviewData:jest.fn()},T={isAndroidApp:jest.fn()},P=function(e,t){var o=new d.default.Store({modules:{auth:{mutations:S,namespaced:!0},lead:{getters:j,namespaced:!0},reservation:{getters:D,actions:M,namespaced:!0},settings:{getters:T,namespaced:!0}}}),r=new m.default({mode:"abstract",routes:Object(v.a)()});return Object(n.render)(_.default,{routes:r,store:o,props:e},t)};describe("login",(function(){beforeEach((function(){jest.clearAllMocks(),jest.resetAllMocks()})),describe("identification step",(function(){it("should identify user with password",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(),e.next=3,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 3:return expect(n.screen.getByText("Boas-vindas à Buser!")).toBeVisible(),expect(n.screen.getByRole("button",{name:"Continuar com o Google"})).toBeVisible(),expect(n.screen.getByRole("button",{name:"Continuar com a Apple"})).toBeVisible(),h.a.auth.findUser.mockResolvedValue({id:1,name:"luiz",has_password:!0}),e.next=9,l.a.type(n.screen.getByLabelText("Email, telefone ou CPF"),"luiz@email.com");case 9:return e.next=11,l.a.click(n.screen.getByRole("button",{name:"Continuar"}));case 11:return e.next=13,Object(n.waitFor)((function(){return expect(f.a.set).toBeCalledWith("user-found",'{"id":1,"name":"luiz","has_password":true}')}));case 13:expect(w.a.push).toBeCalledWith("novoLogin",null,{step:"senha",origin:null},{},expect.anything());case 14:case"end":return e.stop()}}),e)})))),it("should identify social user",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(),e.next=3,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 3:return h.a.auth.findUser.mockResolvedValue({id:1,name:"luiz",has_apple:!0}),e.next=6,l.a.type(n.screen.getByLabelText("Email, telefone ou CPF"),"luiz@email.com");case 6:return e.next=8,l.a.click(n.screen.getByRole("button",{name:"Continuar"}));case 8:return e.next=10,Object(n.waitFor)((function(){return expect(f.a.set).toBeCalledWith("user-found",'{"id":1,"name":"luiz","has_apple":true}')}));case 10:return e.next=12,Object(n.waitFor)((function(){return expect(w.a.push).toBeCalledWith("novoLogin",null,{step:"social",origin:null},{},expect.anything())}));case 12:case"end":return e.stop()}}),e)})))),it("should identify token elegible user",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(),e.next=3,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 3:return h.a.auth.findUser.mockResolvedValue({id:1,name:"luiz",token_eligible:!0}),e.next=6,l.a.type(n.screen.getByLabelText("Email, telefone ou CPF"),"luiz@email.com");case 6:return e.next=8,l.a.click(n.screen.getByRole("button",{name:"Continuar"}));case 8:return e.next=10,Object(n.waitFor)((function(){return expect(f.a.set).toBeCalledWith("user-found",'{"id":1,"name":"luiz","token_eligible":true}')}));case 10:return e.next=12,Object(n.waitFor)((function(){return expect(w.a.push).toBeCalledWith("novoLogin",null,{step:"token",origin:null},{},expect.anything())}));case 12:case"end":return e.stop()}}),e)})))),it("should go to signup",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(),e.next=3,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 3:return e.next=5,l.a.type(n.screen.getByLabelText("Email, telefone ou CPF"),"luiz@email.com");case 5:return e.next=7,l.a.click(n.screen.getByRole("link",{name:"Criar conta"}));case 7:return e.next=9,Object(n.waitFor)((function(){return expect(f.a.set).toBeCalledWith("user-identifier","luiz@email.com")}));case 9:expect(w.a.push).toBeCalledWith("novoLogin",null,{step:"cadastro",origin:null},{},expect.anything());case 10:case"end":return e.stop()}}),e)})))),it("should start with lead phone as user identifier",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.existsLead.mockReturnValue(!0),j.phone.mockReturnValue("1299998888"),P(),e.next=5,Object(n.waitFor)((function(){return expect(n.screen.getByLabelText("Email, telefone ou CPF")).toHaveValue("1299998888")}));case 5:case"end":return e.stop()}}),e)})))),it("should show custom title via conta desativada",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get.mockReturnValue('{"id":1,"name":"luiz","has_password":true}'),P({origin:"via-conta-desativada"}),e.next=4,Object(n.waitFor)((function(){return expect(n.screen.getByRole("heading",{name:"Esperamos que você retorne em breve!",level:1})).toBeVisible()}));case 4:expect(n.screen.getByText("Sua conta foi desativada.")).toBeVisible(),expect(f.a.del).toHaveBeenCalledWith("user-found");case 6:case"end":return e.stop()}}),e)})))),it("should go to signup when not finding user via reserva",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.a.auth.findUser.mockResolvedValue({}),P({origin:"via-reserva"}),e.next=4,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 4:return e.next=6,l.a.type(n.screen.getByLabelText("Email, telefone ou CPF"),"luiz@email.com");case 6:return e.next=8,l.a.click(n.screen.getByRole("button",{name:"Continuar"}));case 8:return e.next=10,Object(n.waitFor)((function(){return expect(f.a.set).toBeCalledWith("user-identifier","luiz@email.com")}));case 10:return e.next=12,Object(n.waitFor)((function(){return expect(w.a.push).toBeCalledWith("novoLogin",null,{step:"cadastro",origin:"via-reserva"},{},expect.anything())}));case 12:case"end":return e.stop()}}),e)})))),it("should redirect to password visiting identification with a user setted",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get.mockReturnValue('{"id":1,"name":"luiz","has_password":true}'),P(),e.next=4,Object(n.waitFor)((function(){return expect(w.a.push).toBeCalledWith("novoLogin",null,{step:"senha",origin:null},{},expect.anything())}));case 4:case"end":return e.stop()}}),e)})))),it("should show groups, custom title & subtitle via reserva",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.getIdaPreview.mockReturnValue(k.a[0]),D.getVoltaPreview.mockReturnValue(k.a[1]),P({origin:"via-reserva"},(function(e,t,o){o.push({name:"novoLogin",query:{idIda:123,idVolta:456}})})),e.next=6,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 6:return e.next=8,Object(n.waitFor)((function(){return expect(n.screen.getByRole("heading",{name:"Para sua reserva ficar ainda melhor...",level:1})).toBeVisible()}));case 8:expect(n.screen.getByText("Coloque sua informação abaixo para checarmos se você tem promoções e passageiros salvos.")).toBeVisible(),expect(n.screen.getByRole("heading",{name:"Viagens Selecionadas",level:2})).toBeVisible(),expect(n.screen.getByRole("heading",{name:"Ida",level:3})).toBeVisible(),expect(n.screen.getByRole("heading",{name:"Volta",level:3})).toBeVisible();case 12:case"end":return e.stop()}}),e)})))),it("should load user identifier from localstorage",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get.mockReturnValueOnce("luiz@test.com"),P(),e.next=4,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 4:return e.next=6,Object(n.waitFor)((function(){return expect(n.screen.getByLabelText("Email, telefone ou CPF")).toHaveValue("luiz@test.com")}));case 6:case"end":return e.stop()}}),e)}))))})),describe("password step",(function(){it("should type user password, login and redirect",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get.mockReturnValue('{"id":1,"name":"luiz","has_password":true}'),P({step:"senha"}),h.a.auth.loginUser.mockResolvedValue({id:1,name:"luiz"}),e.next=5,Object(n.waitFor)((function(){return expect(n.screen.getByRole("heading",{name:"luiz",level:1})).toBeVisible()}));case 5:return e.next=7,l.a.type(n.screen.getByLabelText("Senha"),"password");case 7:return e.next=9,l.a.click(n.screen.getByRole("button",{name:"Entrar"}));case 9:return e.next=11,Object(n.waitFor)((function(){return expect(S.setCurrentUser).toHaveBeenCalledWith(expect.anything(),{id:1,name:"luiz"})}));case 11:expect(x.a.setUser).toHaveBeenCalled(),expect(y.a.$emit).toHaveBeenCalledWith("login",{user_id:1,crm_id:1,method:"login-via-password"}),expect(w.a.push).toBeCalledWith("/",null,null,null,expect.anything());case 14:case"end":return e.stop()}}),e)})))),it("should change found user",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get.mockReturnValue('{"id":1,"name":"luiz","has_password":true}'),P({step:"senha"}),e.next=4,Object(n.waitFor)((function(){return expect(n.screen.getByRole("link",{name:"Entrar com outra conta"})).toBeVisible()}));case 4:return e.next=6,l.a.click(n.screen.getByRole("link",{name:"Entrar com outra conta"}));case 6:return expect(f.a.del).toHaveBeenCalledWith("user-found"),expect(f.a.del).toHaveBeenCalledWith("user-identifier"),e.next=10,Object(n.waitFor)((function(){return expect(w.a.push).toBeCalledWith("novoLogin",null,{step:"entrar",origin:null},{},expect.anything())}));case 10:case"end":return e.stop()}}),e)})))),it("should redirect to identification visiting a user required step with no user setted",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get.mockReturnValue(null),P({step:"senha"}),e.next=4,Object(n.waitFor)((function(){return expect(w.a.push).toBeCalledWith("novoLogin",null,{step:"entrar",origin:null},{},expect.anything())}));case 4:case"end":return e.stop()}}),e)})))),it("should go to new password",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get.mockReturnValue('{"id":1,"name":"luiz","has_password":true}'),P({step:"senha"}),e.next=4,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 4:return e.next=6,l.a.click(n.screen.getByRole("link",{name:"Esqueci minha senha"}));case 6:expect(w.a.push).toBeCalledWith("novoLogin",null,{step:"nova-senha",origin:null},{},expect.anything());case 7:case"end":return e.stop()}}),e)}))))})),describe("token step",(function(){it("should type token, login and redirect",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get.mockReturnValue('{"id":1,"name":"luiz","token_eligible":true}'),h.a.auth.sendLoginToken.mockResolvedValue({}),h.a.auth.loginComToken.mockResolvedValue({id:1,name:"Luiz"}),P({step:"token"}),e.next=6,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 6:return e.next=8,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByText("Enviando código de acesso...")}));case 8:return e.next=10,l.a.type(n.screen.getByLabelText("Código de acesso"),"123456");case 10:return e.next=12,l.a.click(n.screen.getByRole("button",{name:"Entrar"}));case 12:return e.next=14,Object(n.waitFor)((function(){return expect(S.setCurrentUser).toHaveBeenCalledWith(expect.anything(),{id:1,name:"Luiz"})}));case 14:expect(x.a.setUser).toHaveBeenCalled(),expect(y.a.$emit).toHaveBeenCalledWith("login",{user_id:1,crm_id:1,method:"login-via-token"}),expect(w.a.push).toBeCalledWith("/",null,null,null,expect.anything());case 17:case"end":return e.stop()}}),e)})))),it("should go to new password",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get.mockReturnValue('{"id":1,"name":"luiz","token_eligible":true}'),P({step:"token"}),e.next=4,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 4:return e.next=6,l.a.click(n.screen.getByRole("link",{name:"Definir uma senha"}));case 6:expect(w.a.push).toBeCalledWith("novoLogin",null,{step:"nova-senha",origin:null},{},expect.anything());case 7:case"end":return e.stop()}}),e)}))))})),describe("social step",(function(){it("should click social button and redirect",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get.mockReturnValue('{"id":1,"name":"luiz","has_google":true}'),P({step:"social"}),e.next=4,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 4:expect(n.screen.getByRole("button",{name:"Continuar com o Google"})).toBeVisible();case 5:case"end":return e.stop()}}),e)})))),it("should go to new password",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get.mockReturnValue('{"id":1,"name":"luiz","has_google":true}'),P({step:"social"}),e.next=4,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 4:return e.next=6,l.a.click(n.screen.getByRole("link",{name:"Definir uma senha"}));case 6:expect(w.a.push).toBeCalledWith("novoLogin",null,{step:"nova-senha",origin:null},{},expect.anything());case 7:case"end":return e.stop()}}),e)}))))})),describe("new-password step",(function(){it("should recover password",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get.mockReturnValue('{"id":1,"name":"luiz","has_password":true}'),h.a.auth.forgotPassword.mockResolvedValue({}),P({step:"nova-senha"}),e.next=5,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 5:return e.t0=expect,e.next=8,n.screen.findByText("Enviamos um email/SMS para você");case 8:e.t1=e.sent,(0,e.t0)(e.t1).toBeVisible();case 10:case"end":return e.stop()}}),e)})))),it("should go to password",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get.mockReturnValue('{"id":1,"name":"luiz","has_password":true}'),P({step:"nova-senha"}),e.next=4,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 4:return e.next=6,l.a.click(n.screen.getByRole("link",{name:"Entrar com a minha nova senha"}));case 6:expect(w.a.push).toBeCalledWith("novoLogin",null,{step:"senha",origin:null},{},expect.anything());case 7:case"end":return e.stop()}}),e)}))))})),describe("signup step",(function(){it("should signup new user and redirect via reserva",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.a.auth.userSignUp.mockResolvedValue({id:1,name:"luiz"}),P({step:"cadastro",origin:"via-reserva"},(function(e,t,o){o.push({name:"novoLogin",query:{next:"/next"}})})),e.next=5,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 5:return e.next=7,l.a.type(n.screen.getByLabelText("Nome completo"),"luiz");case 7:return e.next=9,l.a.type(n.screen.getByLabelText("Email"),"luiz@test.com");case 9:return e.next=11,l.a.type(n.screen.getByLabelText("Celular"),"12999988888");case 11:return e.next=13,l.a.click(n.screen.getByRole("button",{name:"Cadastrar"}));case 13:return e.next=15,Object(n.waitFor)((function(){return expect(S.setCurrentUser).toHaveBeenCalledWith(expect.anything(),{id:1,name:"luiz"})}));case 15:expect(C.a.setItem).toHaveBeenCalledWith("enviou-sms","sim",3),expect(x.a.setUser).toHaveBeenCalled(),expect(w.a.push).toBeCalledWith("/next","novoLogin",null,null,expect.anything());case 18:case"end":return e.stop()}}),e)})))),it("should signup new user, open MGM popup, close and redirect",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.a.auth.userSignUp.mockResolvedValue({id:1,name:"luiz"}),P({step:"cadastro"}),e.next=4,Object(n.waitForElementToBeRemoved)((function(){return n.screen.queryByTestId("login-loader")}));case 4:return e.next=6,l.a.type(n.screen.getByLabelText("Nome completo"),"luiz");case 6:return e.next=8,l.a.type(n.screen.getByLabelText("Email"),"luiz@test.com");case 8:return e.next=10,l.a.type(n.screen.getByLabelText("Celular"),"12999988888");case 10:return e.next=12,l.a.type(n.screen.getByLabelText("Senha"),"password");case 12:return e.next=14,l.a.click(n.screen.getByRole("button",{name:"Cadastrar"}));case 14:return e.next=16,Object(n.waitFor)((function(){return expect(n.screen.getByRole("heading",{name:"Seu cadastro foi concluído!",level:3})).toBeVisible()}));case 16:return e.next=18,l.a.click(n.screen.getByRole("button",{name:"Pular"}));case 18:expect(w.a.push).toBeCalledWith("/",null,null,null,expect.anything());case 19:case"end":return e.stop()}}),e)})))),it("should show custom title & subtitle and hide password & optional fields via reserva",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P({step:"cadastro",origin:"via-reserva"}),e.next=3,Object(n.waitFor)((function(){return expect(n.screen.getByRole("heading",{name:"Não encontramos você, mas...",level:1})).toBeVisible()}));case 3:expect(n.screen.getByText("Preencha só mais esses dados para passar a ter suas informações e promoções salvas.")).toBeVisible(),expect(n.screen.queryByLabelText("Senha")).not.toBeInTheDocument(),expect(n.screen.queryByLabelText("CPF (opcional)")).not.toBeInTheDocument(),expect(n.screen.queryByLabelText("Convite (opcional)")).not.toBeInTheDocument();case 7:case"end":return e.stop()}}),e)})))),it("should show custom title & subtitle and hide password & optional fields via convite",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P({step:"cadastro",origin:"via-convite"}),e.next=3,Object(n.waitFor)((function(){return expect(n.screen.getByRole("heading",{name:"Dados para cadastro",level:1})).toBeVisible()}));case 3:expect(n.screen.getByText("Só mais isso, e pronto! :)")).toBeVisible(),expect(n.screen.queryByLabelText("Senha")).not.toBeInTheDocument(),expect(n.screen.queryByLabelText("CPF (opcional)")).not.toBeInTheDocument(),expect(n.screen.queryByLabelText("Convite (opcional)")).not.toBeInTheDocument();case 7:case"end":return e.stop()}}),e)})))),it("should hide password & optional fields via landing page",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P({step:"cadastro",origin:"via-landing-page"}),e.next=3,Object(n.waitFor)((function(){return expect(n.screen.getByRole("heading",{name:"Cadastre-se e viaje de Buser.",level:1})).toBeVisible()}));case 3:expect(n.screen.queryByLabelText("Senha")).not.toBeInTheDocument(),expect(n.screen.queryByLabelText("CPF (opcional)")).not.toBeInTheDocument(),expect(n.screen.queryByLabelText("Convite (opcional)")).not.toBeInTheDocument();case 6:case"end":return e.stop()}}),e)})))),it("should go to identification",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P({step:"cadastro"}),e.next=3,Object(n.waitFor)((function(){return expect(n.screen.getByRole("heading",{name:"Cadastre-se e viaje de Buser.",level:1})).toBeVisible()}));case 3:return e.next=5,l.a.click(n.screen.getByRole("link",{name:"Já tenho cadastro"}));case 5:expect(w.a.push).toBeCalledWith("novoLogin",null,{step:"entrar",origin:null},{},expect.anything());case 6:case"end":return e.stop()}}),e)}))))}))}))},633:function(e,t,o){},634:function(e,t,o){"use strict";var r={props:{html:String,element:{type:String,default:"div"}}},n=(o(643),o(4)),component=Object(n.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.element,{tag:"component",staticClass:"html-view",domProps:{innerHTML:e._s(e.html)}})}),[],!1,null,null,null);t.a=component.exports},643:function(e,t,o){"use strict";o(633)},653:function(e,t,o){"use strict";var r={name:"popup",props:{value:{type:Boolean},title:{type:String,default:""},persistent:{type:Boolean,default:!1},modalOptions:{type:Object,default:function(){}}},methods:{onClose:function(){this.$emit("input",!1)}}},n=o(4),component=Object(n.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("client-only",[e.$andromeda.breakpoint.smAndDown?o("ada-action-sheet",{attrs:{value:e.value,title:e.title,persistent:e.persistent},on:{close:e.onClose}},[e._t("default")],2):o("ada-modal",e._b({attrs:{value:e.value,title:e.title,persistent:e.persistent},on:{close:e.onClose}},"ada-modal",e.modalOptions,!1),[e._t("default")],2)],1)}),[],!1,null,null,null);t.a=component.exports},684:function(e,t,o){},685:function(e,t,o){},686:function(e,t,o){},687:function(e,t,o){},688:function(e,t,o){},709:function(e,t,o){"use strict";o(10);var r=o(29),n={name:"mgm-card",props:{title:String},methods:{continueToPromocoes:function(){r.a.push("promocoes",this.$route.name,null,null,this.$router)}}},c=(o(738),o(4)),component=Object(c.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mgm-card"},[o("div",{staticClass:"card-text-content"},[o("p",{staticClass:"mgm-emoji my-1"},[e._v("🎉")]),e._v(" "),o("h3",{staticClass:"title-1 my-1"},[e._v(e._s(e.title)+"!")]),e._v(" "),o("p",{staticClass:"text-4 my-1"},[e._v("Sabia que você pode ganhar descontos indicando amigos?")])]),e._v(" "),o("div",{staticClass:"actions my-1"},[o("ada-button",{attrs:{transparent:""},on:{click:function(t){return e.$emit("skip")}}},[e._v("Pular")]),e._v(" "),o("ada-button",{on:{click:e.continueToPromocoes}},[e._v("Saiba mais")])],1)])}),[],!1,null,"6d52ded9",null);t.a=component.exports},724:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA4IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA4IDE2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzI2NTQ3Qzt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yLDUuM0gwVjhoMnY4aDMuM1Y4aDIuNEw4LDUuM0g1LjNWNC4yYzAtMC42LDAuMS0wLjksMC43LTAuOWgyVjBINS41QzMuMSwwLDIsMS4xLDIsMy4xVjUuM3oiLz4KPC9zdmc+Cg=="},725:function(e,t,o){e.exports=o.p+"img/google-icon-dark.66ae25b.svg"},726:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxpdmVsbG9fMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgd2lkdGg9IjgxNHB4IiBoZWlnaHQ9IjEwMDBweCIgdmlld0JveD0iMCAwIDgxNCAxMDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA4MTQgMTAwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIGQ9Ik03ODguMSwzNDAuOWMtNS44LDQuNS0xMDguMiw2Mi4yLTEwOC4yLDE5MC41YzAsMTQ4LjQsMTMwLjMsMjAwLjksMTM0LjIsMjAyLjJjLTAuNiwzLjItMjAuNyw3MS45LTY4LjcsMTQxLjkKCWMtNDIuOCw2MS42LTg3LjUsMTIzLjEtMTU1LjUsMTIzLjFzLTg1LjUtMzkuNS0xNjQtMzkuNWMtNzYuNSwwLTEwMy43LDQwLjgtMTY1LjksNDAuOHMtMTA1LjYtNTctMTU1LjUtMTI3CglDNDYuNyw3OTAuNywwLDY2MywwLDU0MS44YzAtMTk0LjQsMTI2LjQtMjk3LjUsMjUwLjgtMjk3LjVjNjYuMSwwLDEyMS4yLDQzLjQsMTYyLjcsNDMuNGMzOS41LDAsMTAxLjEtNDYsMTc2LjMtNDYKCUM2MTguMywyNDEuNyw3MjAuNywyNDQuMyw3ODguMSwzNDAuOXogTTU1NC4xLDE1OS40YzMxLjEtMzYuOSw1My4xLTg4LjEsNTMuMS0xMzkuM2MwLTcuMS0wLjYtMTQuMy0xLjktMjAuMQoJYy01MC42LDEuOS0xMTAuOCwzMy43LTE0Ny4xLDc1LjhjLTI4LjUsMzIuNC01NS4xLDgzLjYtNTUuMSwxMzUuNWMwLDcuOCwxLjMsMTUuNiwxLjksMTguMWMzLjIsMC42LDguNCwxLjMsMTMuNiwxLjMKCUM0NjQsMjMwLjcsNTIxLjEsMjAwLjMsNTU0LjEsMTU5LjR6Ii8+Cjwvc3ZnPgo="},727:function(e,t,o){"use strict";o(684)},728:function(e,t,o){"use strict";o(685)},729:function(e,t,o){},730:function(e,t,o){},731:function(e,t,o){"use strict";o(686)},732:function(e,t,o){},733:function(e,t,o){},734:function(e,t,o){},735:function(e,t,o){},736:function(e,t,o){},737:function(e,t,o){},738:function(e,t,o){"use strict";o(687)},739:function(e,t,o){"use strict";o(688)},757:function(e,t,o){"use strict";o(12),o(13),o(16),o(20),o(21);var r=o(2),n=o(7),c=(o(17),o(6)),l=o.n(c),d=o(203),m=o(108),v=o(671),h=o(791),_=o(792),f=(o(95),{name:"instrucoes-viagem",serverCacheKey:function(e){return"".concat(e.cancellationDeadlineHours)},props:{cancellationDeadlineHours:{type:Number,default:1}}}),w=(o(826),o(4)),y=Object(w.a)(f,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"instrucoes-viagem"},[o("div",{staticClass:"iv-instrucao"},[o("div",{staticClass:"iv-header"},[o("fa",{staticClass:"ivh-icon color-silver",attrs:{icon:["fas","circle"]}}),e._v(" "),o("div",{staticClass:"text-3 fw-bold"},[e._v("Paradas para embarque e desembarque")])],1),e._v(" "),e._m(0),e._v(" "),o("div",{staticClass:"iv-header"},[o("fa",{staticClass:"ivh-icon",attrs:{icon:["fal","arrows-rotate"]}}),e._v(" "),o("div",{staticClass:"text-3 fw-bold"},[e._v("Troca, cancelamento e reembolso")])],1),e._v(" "),o("ul",{staticClass:"iv-items"},[e._m(1),e._v(" "),o("li",{staticClass:"text-2 mt-2"},[o("strong",{staticClass:"text-2 fw-bold"},[e._v("As reservas podem ser canceladas até "+e._s(e.cancellationDeadlineHours)+"h antes do embarque")]),e._v(".\n      ")])])])])}),[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",{staticClass:"iv-items"},[o("li",{staticClass:"text-2"},[o("pre",{staticClass:"text-2 mb-2"},[e._v("          As paradas são de aproximadamente 20 minutos\n        ")])])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("li",{staticClass:"text-2"},[o("strong",{staticClass:"text-2 fw-bold"},[e._v("Nenhuma taxa é cobrada")]),e._v(" para fazer trocas ou alterações e quaisquer valores pagos por clientes são devolvidos integralmente;\n      ")])}],!1,null,"4c7c0eec",null).exports,x=o(0),C={name:"itinerario-resumido",props:{grupo:{type:Object,required:!0},darkMode:{type:Boolean,default:!1},mostraProximoAoMetro:{type:Boolean,default:!1}},computed:{hasChegadaNoutroDia:function(){return this.$root.$options.filters.day(this.grupo.datetime_ida)!==this.$root.$options.filters.day(this.grupo.chegada_ida)},isViagemDireta:function(){return m.a.isViagemDireta(this.grupo)}},methods:{logEvent:function(e){x.a.$emit(e)}}},k=(o(827),Object(w.a)(C,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"itinerario-resumido",class:e.darkMode&&"is-dark-mode"},[o("div",{staticClass:"ir-data is-origem"},[o("p",{staticClass:"ird-dia"},[e._v(e._s(e._f("daybarmonth")(e.grupo.datetime_ida)))]),e._v(" "),o("p",{staticClass:"ird-hora"},[e._v(e._s(e._f("hour")(e.grupo.datetime_ida)))])]),e._v(" "),o("div",{staticClass:"ir-endereco is-origem"},[o("p",[e._v("Embarque: "),o("span",{staticClass:"fw-bold text-2"},[e._v(e._s(e.grupo.origem.nickname))])])]),e._v(" "),o("div",{staticClass:"ir-data is-destino"},[e.hasChegadaNoutroDia?o("p",{staticClass:"ird-dia"},[e._v(e._s(e._f("daybarmonth")(e.grupo.chegada_ida)))]):e._e(),e._v(" "),o("p",{staticClass:"ird-hora"},[e._v(e._s(e._f("hour")(e.grupo.chegada_ida)))])]),e._v(" "),o("div",{staticClass:"ir-endereco is-destino"},[o("p",[e._v("Desembarque: "),o("span",{staticClass:"fw-bold text-2"},[e._v(e._s(e.grupo.destino.nickname))])]),e._v(" "),e.mostraProximoAoMetro?o("ada-badge",{staticClass:"ire-proximo-metro",attrs:{small:""},nativeOn:{click:function(t){return e.logEvent("clicou-badge-proximo-metro")}}},[o("fa-sprite",{staticClass:"mr-1",attrs:{sprite:"search",icon:"fas-fa-train-subway"}}),e._v(" Próximo do metrô\n    ")],1):e._e()],1),e._v(" "),e.isViagemDireta?o("ada-badge",{staticClass:"ir-onibus-direto",attrs:{small:""},nativeOn:{click:function(t){return e.logEvent("clicou-onibus-direto-badge")}}},[o("fa-sprite",{staticClass:"mr-1",attrs:{sprite:"search",icon:"fas-fa-bolt-lightning"}}),e._v(" Ônibus direto\n  ")],1):e._e(),e._v(" "),o("span",{staticClass:"ir-icon is-origem"},[o("fa-sprite",{attrs:{sprite:"search",icon:"fal-fa-circle"}})],1),e._v(" "),o("span",{staticClass:"ir-icon-line-between"}),e._v(" "),o("span",{staticClass:"ir-icon is-destino"},[o("fa-sprite",{attrs:{sprite:"search",icon:"fal-fa-location-dot"}})],1)],1)}),[],!1,null,"47c6bcc7",null).exports),O=o(760),S={props:{rating:{type:Number},darkMode:Boolean}},j=(o(828),Object(w.a)(S,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.rating?o("div",{staticClass:"grupo-avaliacao"},[o("p",{staticClass:"text-1",class:{"is-dark-mode":e.darkMode}},[e._v("Avaliação:")]),e._v(" "),o("div",{staticClass:"ga-content text-2"},[o("fa-sprite",{staticClass:"ga-icon",attrs:{sprite:"search",icon:"fas-fa-star"}}),e._v(" "),o("span",{staticClass:"fw-bold",class:{"is-dark-mode":e.darkMode}},[e._v(e._s(e._f("number")(e.rating,1)))])],1)]):e._e()}),[],!1,null,"e946c814",null).exports),D=o(790),M=(o(337),{name:"preco",props:{grupo:{type:Object,required:!0},promo:{type:Object},darkMode:Boolean},computed:{precoAntigo:function(){var e=Math.max(this.grupo.max_split_value,this.grupo.ref_split_value);return this.promo&&this.promo.promotional_value&&this.promo.promotional_value!==e?e:this.grupo.ref_split_value>this.grupo.max_split_value?this.grupo.ref_split_value:0},precoAtual:function(){return this.promo&&(this.promo.promotional_value||0===this.promo.promotional_value)?this.promo.promotional_value:this.grupo.max_split_value},discount:function(){return this.precoAntigo>0?Math.trunc((this.precoAntigo-this.precoAtual)/this.precoAntigo*100):0},showPrecoAntigo:function(){return this.precoAntigo&&this.discount>3}}}),T=(o(829),Object(w.a)(M,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"preco",class:{"is-dark-mode":e.darkMode}},[e.showPrecoAntigo?o("div",{staticClass:"text-1 p-crossed"},[e._v("\n    "+e._s(e._f("real")(e.precoAntigo))+"\n  ")]):e._e(),e._v(" "),e.precoAtual>0?o("div",{staticClass:"text-4 p-preco"},[e._v("\n    "+e._s(e._f("real")(e.precoAtual))+"\n  ")]):o("div",{staticClass:"text-4 p-gratis"},[e._v("\n    Grátis\n  ")])])}),[],!1,null,"a329919c",null).exports),P=o(19);function B(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function I(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?B(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):B(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var A={name:"badge-grupo",props:{grupo:Object,darkMode:Boolean,promo:Object},ssrComputedCache:!0,computed:I(I({},Object(P.mapGetters)({badgesByDate:"search/getBadgesByDate"})),{},{hasDiscount:function(){return this.grupo.ref_split_value!==this.grupo.max_split_value},discount:function(){var e=this.grupo.max_split_value;return this.promo&&(this.promo.promotional_value||0===this.promo.promotional_value)&&(e=this.promo.promotional_value),Math.trunc((this.grupo.ref_split_value-e)/this.grupo.ref_split_value*100)},badge:function(){for(var e=0,t=[{body:"".concat(this.discount,"% OFF - Black Friday"),color:"#FFFF00",class:"b-dark",shouldDisplay:this.showDiscountDark,icon:["fas","badge-percent"]},{body:"Preço de lançamento: ".concat(this.discount,"% OFF"),color:"green",shouldDisplay:this.showPrecoLancamento,icon:["fal","badge-dollar"],iconAlt:"Ícone de preço promocional de lançamento"},{body:"Melhor escolha",color:"orange",shouldDisplay:this.showRecommended,icon:["far","star"],iconAlt:"Ícone de grupo melhor escolha"},{body:"".concat(this.discount,"% OFF"),color:"green",shouldDisplay:this.showDiscount},{body:"Menor preço",color:"green",shouldDisplay:this.showBestPrice},{body:"Mais confortável",color:"blue",shouldDisplay:this.showMostComfortable}];e<t.length;e++){var o=t[e];if(o.shouldDisplay())return this.$store.commit("search/setGrupoBadge",{grupo:this.grupo,badge:o.body}),o}return null}}),methods:{showDiscountDark:function(){return this.darkMode},showDiscount:function(){return this.hasDiscount&&this.discount>3},showBestPrice:function(){return this.badgesByDate.best_price_by_date&&this.badgesByDate.best_price_by_date[this.grupo.id]},showMostComfortable:function(){return this.badgesByDate.most_comfortable_by_date&&this.badgesByDate.most_comfortable_by_date[this.grupo.id]},showRecommended:function(){return this.badgesByDate.recommended_by_date&&this.badgesByDate.recommended_by_date[this.grupo.id]},showPrecoLancamento:function(){return this.badgesByDate.promotional_price_new_route&&this.badgesByDate.promotional_price_new_route[this.grupo.id]&&this.discount>0}}},E=(o(830),Object(w.a)(A,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.badge?o("ada-badge",{staticClass:"badge fw-bold text-2",class:e.badge.class,attrs:{color:e.badge.color,large:"",rounded:""}},[e.badge.icon?o("fa",{staticClass:"b-icon",attrs:{alt:e.badge.iconAlt,icon:e.badge.icon}}):e._e(),e._v("\n  "+e._s(e.badge.body)+"\n")],1):e._e()}),[],!1,null,"462d5850",null).exports),R=o(194),L={name:"alert-retirar-passagem",props:{grupo:Object},computed:{text:function(){return R.a.getLocalRetirada(this.grupo)}}},z=Object(w.a)(L,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.text?o("ada-alert",{attrs:{type:"warning"}},[o("p",{domProps:{innerHTML:e._s(e.text)}})]):e._e()}),[],!1,null,null,null).exports,V={name:"a-confirmar",props:{darkMode:Boolean}},Y=(o(831),Object(w.a)(V,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"a-confirmar",class:{"is-dark-mode":e.darkMode}},[o("span",{staticClass:"ac-text text-1"},[e._v("A confirmar")]),e._v(" "),o("ada-tooltip",{attrs:{position:"top"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[o("fa",e._g({staticClass:"ac-icon mx-1",attrs:{icon:["fal","circle-info"]}},r))]}}])},[e._v(" "),o("p",[e._v("A confirmação ocorre "),o("strong",{staticClass:"fw-bold"},[e._v("até 48h antes da viagem")]),e._v(" e depende do interesse e da disponibilidade de uma empresa de fretamento em realizá-la.")])])],1)}),[],!1,null,"31d8ba88",null).exports);function F(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function U(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):F(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var H={name:"grupo",ssrComputedCache:!0,components:{LazyHydrate:d.a,aConfirmar:Y,avaliacao:j,badgeGrupo:E,alertRetirarPassagem:z,preco:T,poltrona:D.a,localRetirada:O.a,instrucoesViagem:y,itinerarioResumido:k,trechoItinerario:h.a,trechoItinerarioHidden:_.a},props:{grupo:{type:Object,required:!0},readOnly:{type:Boolean,default:!1},hidePreco:{type:Boolean,default:!1}},data:function(){return{precoReferenciaPorcentagem:1,accordionContentRendered:!1,mostraProximoAoMetro:!1}},mounted:function(){if(m.a.mostraPrecoReferencia(this.grupo)&&(this.precoReferenciaPorcentagem=.75),m.a.mostraProximoAoMetro(this.grupo)){this.mostraProximoAoMetro="sim"===v.a.set(this.$store,this.$cookies,{label:"mostra-proximo-ao-metro",options:["sim","nao"]})}},computed:U(U({},Object(P.mapGetters)({activePromo:"search/getActivePromo"})),{},{promo:function(){var e=this.activePromo.availableGroups[this.grupo.id];return e&&e.promocao},darkMode:function(){return!1},vagasRestantesAlert:function(){var e=this.grupo.vagas,t=this.grupo.vagas_bucket;return this.canReservar?t&&t<5&&t<e?"".concat(this.$options.filters.pluralize(t,"vaga","vagas")," com este desconto"):e&&e<12?"".concat(this.$options.filters.pluralize(e,"vaga restante","vagas restantes")):"":""},aConfirmar:function(){return"pending"===this.grupo.status&&"very_low"===this.grupo.confirming_probability},canReservar:function(){return!!this.readOnly||this.grupo.status in{pending:1,travel_confirmed:1}&&!this.grupo.closed&&this.grupo.vagas>0&&this.isBeforeDatetimeIda},isBeforeDatetimeIda:function(){return l()().isBefore(this.grupo.datetime_ida)},isMarketplace:function(){return m.a.isMarketplace(this.grupo)},abGrupo:function(){return U(U({},this.grupo),{},{ref_split_value:this.grupo.ref_split_value/this.precoReferenciaPorcentagem})},quantidadeParadas:function(){return m.a.quantidadeParadas(this.grupo)}}),methods:{reservar:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x.a.$emit("selecionou-grupo",U(U({},e.grupo),{},{quantidade_paradas:e.quantidadeParadas,has_desembarque_proximo_metro:e.mostraProximoAoMetro})),t.next=3,e.$store.dispatch("search/next",{grupo:e.grupo,$cookies:e.$cookies});case 3:case"end":return t.stop()}}),t)})))()},toggleAccordionContent:function(e){this.accordionContentRendered||x.a.$emit("clicou-ver-detalhes"),this.accordionContentRendered=!0,this.$nextTick(e)},logEvent:function(e){x.a.$emit(e)}}},$=(o(832),Object(w.a)(H,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ada-accordion",{staticClass:"grupo g-card",class:{disabled:!e.canReservar,"is-dark-mode":e.darkMode}},[o("ada-accordion-item",{scopedSlots:e._u([{key:"title",fn:function(t){var r=t.isActive,n=t.toggle;return[o("div",{staticClass:"g-header",class:{active:r},on:{click:function(t){e.canReservar&&e.toggleAccordionContent(n)}}},[e.isBeforeDatetimeIda&&!e.hidePreco?o("badge-grupo",{staticClass:"g-badge",attrs:{grupo:e.abGrupo,darkMode:e.darkMode,promo:e.promo}}):e._e(),e._v(" "),o("div",{staticClass:"gh-item g-empresa"},[o("local-retirada",{staticClass:"ge-retirada",attrs:{grupo:e.grupo,darkMode:e.darkMode},nativeOn:{click:function(t){return e.logEvent("clicou-local-retirada")}}})],1),e._v(" "),o("div",{staticClass:"gh-item g-itinerario-resumido"},[o("itinerario-resumido",{attrs:{grupo:e.grupo,darkMode:e.darkMode,"mostra-proximo-ao-metro":e.mostraProximoAoMetro},nativeOn:{click:function(t){return e.logEvent("clicou-itinerario")}}})],1),e._v(" "),e.aConfirmar?o("a-confirmar",{staticClass:"gh-item g-aconfirmar",attrs:{darkMode:e.darkMode}}):o("avaliacao",{staticClass:"gh-item",attrs:{rating:e.grupo.company_rating,darkMode:e.darkMode},nativeOn:{click:function(t){return e.logEvent("clicou-avaliacao")}}}),e._v(" "),o("poltrona",{staticClass:"gh-item g-poltrona",attrs:{"tipo-assento":e.grupo.tipo_assento,"tipo-veiculo":e.grupo.tipo_veiculo,"tem-banheiro":e.grupo.tem_banheiro,darkMode:e.darkMode,isPlotado:e.grupo.onibus_plotado,"show-info":""}}),e._v(" "),o("div",{staticClass:"hide-desktop"},[o("div",{staticClass:"g-wrapper"},[e.hidePreco?e._e():o("preco",{staticClass:"gh-item g-preco",attrs:{grupo:e.abGrupo,darkMode:e.darkMode,promo:e.promo}}),e._v(" "),o("div",{staticClass:"gh-item g-actions",class:{disabled:!e.canReservar}},[o("div",{staticClass:"g-expand"},[e.canReservar?o("div",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleAccordionContent(n)}}},[o("fa-sprite",{staticClass:"ge-icon text-1",attrs:{sprite:"search",icon:"fas-fa-chevron-down"}}),e._v(" "),o("span",{staticClass:"show-desktop text-1 ml-1",class:{"color-white":e.darkMode,"color-gray":!e.darkMode}},[e._v(e._s(r?"Esconder detalhes":"Ver detalhes"))])],1):o("div",{staticClass:"text-1 color-grey"},[e._v("\n                  Vagas esgotadas\n                ")])]),e._v(" "),e.readOnly?e._e():o("div",{staticClass:"g-reservar"},[o("ada-button",{attrs:{color:"primary",disabled:!e.canReservar},nativeOn:{click:function(t){return t.stopPropagation(),e.reservar.apply(null,arguments)}}},[e._v("\n                  Selecionar\n                ")])],1)])],1),e._v(" "),e.vagasRestantesAlert?o("p",{staticClass:"g-vagas-restantes"},[o("fa-sprite",{staticClass:"mr-1",attrs:{sprite:"search",icon:"far-fa-fire-flame-curved"}}),e._v("\n            "+e._s(e.vagasRestantesAlert)+"\n          ")],1):e._e()]),e._v(" "),e.hidePreco?e._e():o("preco",{staticClass:"gh-item g-preco show-desktop",attrs:{grupo:e.abGrupo,darkMode:e.darkMode,promo:e.promo}}),e._v(" "),o("div",{staticClass:"gh-item g-actions show-desktop",class:{disabled:!e.canReservar}},[o("div",{staticClass:"g-expand"},[e.canReservar?o("div",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleAccordionContent(n)}}},[o("fa-sprite",{staticClass:"ge-icon text-1",attrs:{sprite:"search",icon:"fas-fa-chevron-down"}}),e._v(" "),o("span",{staticClass:"show-desktop text-1 ml-1",class:{"color-white":e.darkMode,"color-gray":!e.darkMode}},[e._v(e._s(r?"Esconder detalhes":"Ver detalhes"))])],1):o("div",{staticClass:"text-1 color-grey"},[e._v("\n              Vagas esgotadas\n            ")])]),e._v(" "),e.readOnly?e._e():o("div",{staticClass:"g-reservar"},[o("ada-button",{attrs:{color:"primary",disabled:!e.canReservar},nativeOn:{click:function(t){return t.stopPropagation(),e.reservar.apply(null,arguments)}}},[e._v("\n              Selecionar\n            ")]),e._v(" "),e.vagasRestantesAlert?o("p",{staticClass:"g-vagas-restantes show-desktop"},[o("fa-sprite",{staticClass:"mr-1",attrs:{sprite:"search",icon:"far-fa-fire-flame-curved"}}),e._v("\n              "+e._s(e.vagasRestantesAlert)+"\n            ")],1):e._e()],1)])],1)]}}])},[e._v(" "),e.canReservar?[e.accordionContentRendered?o("div",{staticClass:"g-body"},[e.isMarketplace?o("alert-retirar-passagem",{staticClass:"mb-4",attrs:{grupo:e.grupo}}):e._e(),e._v(" "),o("div",{staticClass:"gb-content"},[o("trecho-itinerario",{staticClass:"gbc-itinerario",attrs:{itinerario:e.grupo.itinerario,origem:e.grupo.origem,destino:e.grupo.destino,"datetime-ida":e.grupo.datetime_ida,"chegada-ida":e.grupo.chegada_ida,showOrigemDescription:!e.isMarketplace,showDestinoDescription:!e.isMarketplace}}),e._v(" "),o("instrucoes-viagem",{staticClass:"gbc-instrucoes",attrs:{cancellationDeadlineHours:e.grupo.cancellation_deadline_hours}}),e._v(" "),e.readOnly?e._e():o("ada-button",{staticClass:"show-desktop",attrs:{color:"primary",outline:"",block:""},on:{click:e.reservar}},[e._v("\n            Selecionar\n          ")])],1)],1):o("div",[o("LazyHydrate",{attrs:{"ssr-only":""}},[o("trecho-itinerario-hidden",{attrs:{itinerario:e.grupo.itinerario,origem:e.grupo.origem,destino:e.grupo.destino,"datetime-ida":e.grupo.datetime_ida,"chegada-ida":e.grupo.chegada_ida,showOrigemDescription:!e.isMarketplace,showDestinoDescription:!e.isMarketplace}})],1)],1)]:e._e()],2)],1)}),[],!1,null,"3b229e5e",null));t.a=$.exports},758:function(e,t,o){"use strict";var r=o(653),n=o(793),c={name:"poltronas-descricao",data:function(){return{poltronas:{CONVENCIONAL:n.c,EXECUTIVO:n.d,SEMI_LEITO:n.h,LEITO:n.e,LEITO_INDIVIDUAL:n.g,LEITO_CAMA:n.f,CAMA:n.a,CAMA_PREMIUM:n.b}}},computed:{poltronaLabels:function(){return n.j},poltronaIcons:function(){return n.k}}},l=(o(833),o(4)),d=Object(l.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"poltronas-descricao"},[o("div",{staticClass:"pd-row"},[o("img",{staticClass:"pd-icon",attrs:{alt:"Poltrona do tipo "+e.poltronaLabels[e.poltronas.EXECUTIVO]+" ou "+e.poltronaLabels[e.poltronas.CONVENCIONAL],src:e.poltronaIcons[e.poltronas.EXECUTIVO]}}),e._v(" "),o("p",{staticClass:"pd-name"},[e._v(e._s(e.poltronaLabels[e.poltronas.EXECUTIVO]))]),e._v(" "),o("p",[e._v("As poltronas reclinam até 135º, possuem apoio para os pés e o apoio para os braços é compartilhado.")])]),e._v(" "),o("div",{staticClass:"pd-row"},[o("img",{staticClass:"pd-icon",attrs:{alt:"Poltrona do tipo "+e.poltronaLabels[e.poltronas.SEMI_LEITO],src:e.poltronaIcons[e.poltronas.SEMI_LEITO]}}),e._v(" "),o("p",{staticClass:"pd-name"},[e._v(e._s(e.poltronaLabels[e.poltronas.SEMI_LEITO]))]),e._v(" "),o("p",[e._v("As poltronas reclinam até 145°, possuem descanso para as pernas e o apoio para os braços é compartilhado.")])]),e._v(" "),o("div",{staticClass:"pd-row"},[o("img",{staticClass:"pd-icon",attrs:{alt:"Poltrona do tipo "+e.poltronaLabels[e.poltronas.LEITO],src:e.poltronaIcons[e.poltronas.LEITO]}}),e._v(" "),o("p",{staticClass:"pd-name"},[e._v(e._s(e.poltronaLabels[e.poltronas.LEITO]))]),e._v(" "),o("p",[e._v("Outro nível de conforto. Poltronas mais largas que reclinam até 150°, possuem descanso para as pernas e o apoio para os braços é individual.")])]),e._v(" "),o("div",{staticClass:"pd-row"},[o("img",{staticClass:"pd-icon",attrs:{alt:"Poltrona do tipo "+e.poltronaLabels[e.poltronas.LEITO_INDIVIDUAL],src:e.poltronaIcons[e.poltronas.LEITO_INDIVIDUAL]}}),e._v(" "),o("p",{staticClass:"pd-name"},[e._v(e._s(e.poltronaLabels[e.poltronas.LEITO_INDIVIDUAL]))]),e._v(" "),o("p",[e._v("Aqui a sua viagem é muito mais confortável. Poltronas particulares, mais longas e largas e que reclinam até 150º. Possuem descanso para as pernas e apoio individual para os braços.")])]),e._v(" "),o("div",{staticClass:"pd-row"},[o("img",{staticClass:"pd-icon",attrs:{alt:"Poltrona do tipo "+e.poltronaLabels[e.poltronas.LEITO_CAMA],src:e.poltronaIcons[e.poltronas.LEITO_CAMA]}}),e._v(" "),o("p",{staticClass:"pd-name"},[e._v(e._s(e.poltronaLabels[e.poltronas.CAMA]))]),e._v(" "),o("p",[e._v("Poltronas reclinam até 180° e o apoio para as pernas fica na mesma altura da poltrona, tornando-se uma verdadeira cama sobre rodas.")])]),e._v(" "),o("div",{staticClass:"pd-row"},[o("img",{staticClass:"pd-icon",attrs:{alt:"Poltrona do tipo "+e.poltronaLabels[e.poltronas.CAMA_PREMIUM],src:e.poltronaIcons[e.poltronas.CAMA_PREMIUM]}}),e._v(" "),o("p",{staticClass:"pd-name"},[e._v(e._s(e.poltronaLabels[e.poltronas.CAMA_PREMIUM]))]),e._v(" "),o("p",[e._v("Nível máximo de conforto possível. Além de toda a comodidade que a Cama oferece, a Premium também possui poltronas com massageador e tela individual com streaming.")])])])}),[],!1,null,"85210ed8",null).exports,m={name:"poltronas-modal",components:{popup:r.a,poltronasDescricao:d},computed:{showPoltronasModal:{get:function(){return this.$store.getters["search/getShowPoltronasModal"]},set:function(e){this.$store.commit("search/setShowPoltronasModal",e)}}}},v=Object(l.a)(m,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("popup",{attrs:{title:"Tipos de poltronas"},model:{value:e.showPoltronasModal,callback:function(t){e.showPoltronasModal=t},expression:"showPoltronasModal"}},[o("poltronas-descricao")],1)}),[],!1,null,null,null);t.a=v.exports},760:function(e,t,o){"use strict";var r=o(634),n=o(194),c=o(108),l={name:"local-retirada",components:{htmlView:r.a},props:{grupo:{type:Object,required:!0},tooltipPosition:{type:String,default:"top"},darkMode:Boolean,showCompany:{type:Boolean,default:!1}},computed:{isMarketplace:function(){return c.a.isMarketplace(this.grupo)},instrucoesRetirada:function(){var e=this.$store.getters["search/getGrupoIda"],t=e&&this.grupo.id===e.id,o=e&&!!this.$route.query.volta,r=n.a.getLocalRetirada(this.grupo,t,o);return this.isMarketplace&&r?r:"Embarque levando apenas um <b>documento original com foto.</b>"},localRetirada:function(){var e=this.grupo.company_name,t=e&&this.showCompany?"".concat(e," - "):"",o=n.a.getTipoLocalRetirada(this.grupo);return this.isMarketplace&&"guiche"===o?"".concat(t,"Retire a passagem na rodoviária"):"".concat(t,"outro"===o?"Veja informações de embarque":"Embarque apenas com documento")}}},d=(o(731),o(4)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"local-retirada text-1",class:{"is-dark-mode":e.darkMode}},[e._v("\n  "+e._s(e.localRetirada)+"\n\n  "),e.instrucoesRetirada?o("ada-tooltip",{attrs:{position:e.tooltipPosition},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[o("fa-sprite",e._g({staticClass:"lr-info-icon mx-1",attrs:{sprite:"search",icon:"fal-fa-circle-info"}},r))]}}],null,!1,939047436)},[e._v(" "),o("html-view",{staticClass:"color-dark-gray",attrs:{html:e.instrucoesRetirada}})],1):e._e()],1)}),[],!1,null,"2e8d047e",null);t.a=component.exports},761:function(e,t,o){"use strict";o.d(t,"a",(function(){return y}));o(12),o(13),o(16),o(20),o(21);var r=o(7);o(33);function n(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var l=[{id:"1",cidade_id:1,label:"Florianópolis - SC",name:"Florianópolis",uf:"SC",slug:"florianopolis-sc",sigla:"FLN",picture_url:"https://upload.wikimedia.org/wikipedia/commons/b/ba/Avenida_Beira_Mar_Norte_Florianopolis.jpg"},{id:"2",cidade_id:2,label:"Pouso Alegre - MG",name:"Pouso Alegre",uf:"MG",slug:"pouso-alegre-mg",sigla:"PAE",picture_url:"https://www.pousoalegre.mg.gov.br/imagens/albuns/1222/22222.jpg"},{id:"3",cidade_id:3,label:"Campinas - SP",name:"Campinas",uf:"SP",slug:"campinas-sp",sigla:"CMP",picture_url:"https://upload.wikimedia.org/wikipedia/commons/a/af/Regi%C3%A3o_do_B._Jardim_Flamboyant%2C_Campinas_SP.jpg"},{id:"4",cidade_id:4,label:"Porto Alegre - RS",name:"Porto Alegre",uf:"RS",slug:"porto-alegre-rs",sigla:"POA",picture_url:"https://expanmais.com.br/wp-content/uploads/2019/12/o-que-fazer-em-lima-peru.jpg"},{id:"5",cidade_id:5,label:"Ipatinga - MG",name:"Ipatinga",uf:"MG",slug:"ipatinga-mg",sigla:"IPA",picture_url:"https://portalfacilclientes.blob.core.windows.net/uploads/IPATINGA/img/%7B6EECCAED-EAC3-6CB7-DEBA-C38565AC8BEE%7D/%7B6EECCAED-EAC3-6CB7-DEBA-C38565AC8BEE%7D_750X402.jpg"},{id:"6",cidade_id:6,label:"Montes Claros - MG",name:"Montes Claros",uf:"MG",slug:"montes-claros-mg",sigla:"MCL",picture_url:"https://aconteceunovale.com.br/portal/wp-content/uploads/2018/04/montes_claros.jpg"},{id:"7",cidade_id:7,label:"São Paulo - SP",name:"São Paulo",uf:"SP",slug:"sao-paulo-sp",sigla:"SAO",picture_url:"https://abrilviagemeturismo.files.wordpress.com/2017/12/istock-842960000.jpg?quality=70&strip=info&w=680&h=453&crop=1"},{id:"7-1",cidade_id:7,label:"São Paulo - SP, Terminal A",name:"Terminal A",uf:"SP",slug:"terminal-a-sao-paulo-sp",sigla:"SAO",picture_url:"https://abrilviagemeturismo.files.wordpress.com/2017/12/istock-842960000.jpg?quality=70&strip=info&w=680&h=453&crop=1"},{id:"8",cidade_id:8,label:"Belo Horizonte - MG",name:"Belo Horizonte",uf:"MG",slug:"belo-horizonte-mg",sigla:"BHZ",picture_url:"https://upload.wikimedia.org/wikipedia/commons/f/fb/Belo_Horizonte_Luzes.jpg"},{id:"9",cidade_id:9,label:"São José dos Campos - SP",name:"São José dos Campos",uf:"SP",slug:"sao-jose-dos-campos-sp",sigla:"SJC",picture_url:"https://pt.wikipedia.org/wiki/S%C3%A3o_Jos%C3%A9_dos_Campos#/media/Ficheiro:SJos%C3%A9Campos.jpg"},{id:"10",cidade_id:10,label:"Brasília - DF",name:"Brasília",uf:"DF",slug:"brasilia-df",sigla:"BSB",picture_url:"https://upload.wikimedia.org/wikipedia/commons/f/fc/Zona_Central_de_Bras%C3%ADlia_-_Eixo_Monumental.jpg"},{id:"11",cidade_id:11,label:"Rio de Janeiro - RF",name:"Rio de Janeiro",uf:"RF",slug:"rio-de-janeiro-rj",sigla:"RIO",picture_url:"https://pt.wikipedia.org/wiki/Rio_de_Janeiro#/media/Ficheiro:Forte_de_Copacabana_panorama.jpg"},{id:"12",cidade_id:12,label:"Jacareí - SP",name:"Jacareí",uf:"SP",slug:"jacarei-sp",sigla:"JAC",picture_url:"https://pt.wikipedia.org/wiki/Jacare%C3%AD#/media/Ficheiro:Pista_Luciano_Bruni.JPG"},{id:"13",cidade_id:13,label:"Santos - SP",name:"Santos",uf:"SP",slug:"santos-sp",sigla:"STS",picture_url:"https://pt.wikipedia.org/wiki/Santos#/media/Ficheiro:Bolsa_do_Cafe_Santos3.jpg"},{id:"14",cidade_id:14,label:"Maringá - PR",name:"Maringá",uf:"PR",slug:"maringa-pr",sigla:"MNG",picture_url:"https://upload.wikimedia.org/wikipedia/commons/9/9a/Montagem_Maring%C3%A1.jpg"},{id:"15",cidade_id:15,label:"Curitiba - PR",name:"Curitiba",uf:"PR",slug:"curitiba-pr",sigla:"CWB",picture_url:"https://upload.wikimedia.org/wikipedia/commons/6/6b/Collage_Curitiba.png"},{id:"16",cidade_id:16,label:"São Paulo - SP | MASP",name:"São Paulo MASP",uf:"SP",slug:"sao-paulo-sp",sigla:"SAO",picture_url:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/MASP_Brazil.jpg/300px-MASP_Brazil.jpg"}],d=(l[6],l[6],l[6],l[6],l[6],l[0],l[0],{descricao:"<p>A cidade de <strong>São José dos Campos</strong> está situada no Vale do Paraíba e é um dos municípios do interior do estado de São Paulo. Chamada de “Sanja” pelos mais chegados, a cidade é a quarta maior cidade do Estado, com mais de 700 mil habitantes. Famosa pelo seu vasto campo de atuação na indústria e na tecnologia, São José dos Campos é a sede de empresas importantes como Panasonic, Johnson &amp; Johnson, Ericsson, Philips, General Motors, Petrobrás, Monsanto e Embraer e também possui grandes centros de pesquisa como o DCTA e o INPE. São José dos Campos também é palco de grandes universidades estaduais, como o ITA, Unesp e Unifesp.</p><p>Além do grande peso econômico, São José também é um relevante centro cultural do Vale do Paraíba. Dentre as suas áreas de preservação ambiental estão a Reserva Ecológica Augusto Ruschi, o distrito de São Francisco Xavier e o Banhado, além dos pontos de visitação como o Parque da Cidade, o Parque Vicentina Aranha e o Parque Santos Dumont.</p><p>Um fato curioso sobre São José dos Campos é que a cidade foi o berço de criações como a urna eletrônica e o primeiro carro a álcool, desenvolvido no Centro Técnico Aeroespacial (CTA). O município também é conhecido por oferecer altos índices de qualidade de vida; mais de 50% da cidade está envolto pela natureza, com seus diversos parques e cachoeiras. Isso sem deixar de oferecer tudo o que uma grande metrópole precisa.</p><p>São José dos Campos é uma das maiores e melhores cidades do interior de São Paulo. Com uma natureza exuberante e considerada o polo aeronáutico e aeroespacial da América Latina, a cidade tem muito a oferecer. Se estiver planejando a sua viagem para lá, não deixe de incluir na sua lista o Memorial Aeroespacial Brasileiro, o Mirante do Banhado (área de proteção ambiental) e o Mercado Municipal, repleto de delícias regionais. E se quiser relaxar com uma boa comida de boteco, vale a pena dar um pulo nos bares da Vila Ema ou conhecer o Bar do Coronel, o mais tradicional do Vale do Paraíba.</p><p><br></p>",pontos_turisticos:"Os principais pontos turísticos de Sâo José dos Campos incluem o Parque da Cidade, Igreja Matriz, Parque Santos Dummont, Ponte Estaiada além de diversos outros.",sumario:"Sanja para os chegados, São José dos Campos - SP está no coração do Vale do Paraíba como um polo industrial tecnológico, que abriga parques e belezas naturais.",restaurantes:"Os 5 restaurantes com melhores avaliações em São José dos Campos são: Bar do Coronel, Calle 54, Marbelle, Armazém da Pizza e No Barko Culinária Oriental.",hospedagens:"As 5 hospedagens mais bem avaliadas em São José dos Campos são: Golden Tulip São José dos Campos, Novotel São José dos Campos, Hotel Mercure São José dos Campos, B&B Hotels São José dos Campos e Monreale São José dos Campos.",eventos:"Algumas das melhores atrações de São José dos Campos incluem: Compras no Vale Sul Shopping, Contato com a Natureza na: <ul><li> Cachoeira Pedro David,</li><li> Visita de Pontos Turísticos na Catedral São Dimas</li><li> Concertos e Shows no Teatro Sesc São José dos Campos </li><li> e Parque de Diversões e Aquatico no Thermas do Vale. </li></ul>",imagens:[{id:1,url:"https://miro.medium.com/max/8000/1*-A6CZuofdaDzR1aMruAUqQ.jpeg",tipo:"thumb",descricao:"Palmeiras do parque Burle Marx (Parque da cidade) em São José dos Campos"},{id:2,url:"https://media-exp1.licdn.com/dms/image/C4D1BAQHWAmcMzMjmfw/company-background_10000/0?e=2159024400&v=beta&t=Y_bsARX4afc-WNBovJLubtBuY_5f1C3HtIh_dBn0Ki0",tipo:"cover",descricao:"Vista parcial noturna de São José dos Campos"},{id:3,tipo:"gallery",url:"https://www.livehere.com.br/blog/wp-content/uploads/2019/12/parque-santos-dumont-sao-jose-dos-campos-900x556.jpg",descricao:"Parque Santos Dumont em São José dos Campos"},{id:4,tipo:"gallery",url:"https://media-exp1.licdn.com/dms/image/C4D1BAQHWAmcMzMjmfw/company-background_10000/0?e=2159024400&v=beta&t=Y_bsARX4afc-WNBovJLubtBuY_5f1C3HtIh_dBn0Ki0",descricao:"Vista parcial noturna de São José dos Campos"},{id:5,tipo:"gallery",url:"https://miro.medium.com/max/8000/1*-A6CZuofdaDzR1aMruAUqQ.jpeg",descricao:"Palmeiras do parque Burle Marx (Parque da cidade) em São José dos Campos"}]}),m=l.map((function(e){return c(c({},e),{},{info:d})})),v=[c(c({},l[0]),{},{id:359,endereco:"Av. 43, nº 658, Alvorada. Auto Posto Joiris",nickname:"Auto Posto Joiris",description:"No terminal turístico JK, em frente à escolinha do Prof. Raimundo tem uma entrada onde os ônibus ficam estacionados. É lá que você deve esperar.",mapurl:"https://maps.google.com/0"}),c(c({},l[1]),{},{id:2,endereco:"Rua Voluntários da Pátria, 344 (Dentro do Estacionamento)",nickname:"Estacionamento Tiete",description:"O local de embarque fica dentro do estacionamento do Tietê. Se vier de carro, entre no estacionamento pela Rua Vonluntários da Pátria. Se vier da estação, saia pela Av. Cruzeiro do Sul, atravesse a rua e entre no estacionamento.",mapurl:"https://maps.google.com/1"}),c(c({},l[2]),{},{id:3,endereco:"Estacionamento Placa",nickname:"Estacionamento da Placa",description:"",mapurl:"https://maps.google.com/2"}),c(c({},l[3]),{},{id:4,endereco:"Shopping Center",nickname:"Shopis Centis",description:"",mapurl:"https://maps.google.com/3"}),c(c({},l[4]),{},{id:5,endereco:"Praça de Encontro",nickname:"Pracinha",description:"",mapurl:"https://maps.google.com/4"}),c(c({},l[5]),{},{id:6,endereco:"Avenida Brasil, 845 - Iguaçu",nickname:"Banco do Brasil",description:"",mapurl:"https://maps.google.com/5"}),c(c({},l[6]),{},{id:7,endereco:"Estacionamento parque",nickname:"Estacionamento Garden",description:"",mapurl:"https://maps.google.com/6"}),c(c({},l[7]),{},{id:8,endereco:"Rua dos Guajajaras, 1353 - Barro Preto",nickname:"Barrin",description:"",mapurl:"https://maps.google.com/7"}),c(c({},l[8]),{},{id:9,endereco:"Posto da Gruta - Av. Dep. Benedito Matarazzo , 4229 - Jardim das Indústrias",nickname:"Posto da Gruta",description:"",mapurl:"https://maps.google.com/8"}),c(c({},l[9]),{},{id:10,endereco:"Srps - Asa Sul, Brasília - Asa Sul",nickname:"SRPS",description:"",mapurl:"https://maps.google.com/9"}),c(c({},l[10]),{},{id:11,endereco:"Avenida Beira Mar, 3587 - Glória",nickname:"Oh Glória",description:"",mapurl:"https://maps.google.com/10"}),c(c({},l[11]),{},{id:12,endereco:"Avenida Malek Assad, 15 - Jardim Santa Maria ",nickname:"Frango Assado",description:"",mapurl:"https://maps.google.com/10"}),c(c({},l[12]),{},{id:13,endereco:"Praça dos Andradas, 45 - Centro ",nickname:"Andradão",description:"",mapurl:"https://maps.google.com/10"}),c(c({},l[15]),{},{id:14,endereco:"R. XV de Novembro, 971 - Centro",nickname:"Teatro Guaíra",description:"",mapurl:"https://maps.google.com/10"}),c(c({},l[16]),{},{id:15,endereco:"Av. Paulista, 1578 - Bela Vista",nickname:"MASP",description:"",mapurl:"https://maps.google.com/10"})],h=(m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),m[6],(new Date).getTime(),(new Date).getTime(),[function(e){for(var t=Math.ceil(e/4),o=[0,1,3,2],r=[],n=0;n<t;n++)for(var c=0;c<4;c++){var l=4*n+c+1;l<=e&&r.push({label:l,available:Math.random()<.9,position:{x:o[c],y:n,z:0}})}return r}(44),[{label:"GE",available:!1,position:{x:3,y:1,z:0}},{label:"02",available:!1,position:{x:1,y:1,z:0}},{label:"01",available:!0,position:{x:0,y:1,z:0}},{label:"05",available:!0,position:{x:0,y:2,z:0}},{label:"04",available:!0,position:{x:1,y:2,z:0}},{label:"03",available:!0,position:{x:3,y:2,z:0}},{label:"08",available:!1,position:{x:1,y:3,z:0}},{label:"07",available:!1,position:{x:0,y:3,z:0}},{label:"06",available:!0,position:{x:3,y:3,z:0}},{label:"51",available:!0,position:{x:0,y:3,z:1}},{label:"52",available:!0,position:{x:2,y:3,z:1}},{label:"53",available:!0,position:{x:4,y:3,z:1}},{label:"54",available:!0,position:{x:0,y:4,z:1}}],[{label:"1",available:!0,position:{x:0,y:7,z:0}},{label:"46",available:!1,position:{x:1,y:7,z:0}},{label:"48",available:!1,position:{x:2,y:7,z:0}},{label:"47",available:!1,position:{x:3,y:7,z:0}},{label:"49",available:!0,position:{x:0,y:9,z:0}},{label:"50",available:!0,position:{x:1,y:9,z:0}},{label:"52",available:!0,position:{x:2,y:9,z:0}},{label:"51",available:!0,position:{x:3,y:9,z:0}},{label:"53",available:!0,position:{x:0,y:11,z:0}},{label:"54",available:!0,position:{x:1,y:11,z:0}},{label:"56",available:!0,position:{x:2,y:11,z:0}},{label:"55",available:!0,position:{x:3,y:11,z:0}}]]);function _(e,t){return[{id:136,local:v[e],local_id:v[e].id,distancia_km:200,duracao:36e6},{id:137,local:v[t],local_id:v[t].id,distancia_km:150,duracao:3e7}]}var f=o(6),w=o.n(f),y=[{trecho_id:1,itinerario:_(0,3),datetime_ida:w()().add(73,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(25,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),status:"pending",origem:v[0],origem_id:v[0].id,destino:v[3],destino_id:v[3].id,company_pos_bo:null,onibus_pos_bo:null,tipo_pos_bo:null,embarque_status:"EMBARQUE_INICIADO",foto_onibus:"https://placekitten.com/1200/900",confirming_probability:"very_low",onibus_plotado:!0,reservations_last_day:0,travel_log:{created_at:"2018-08-17T17:59:57.200328+00:00",updated_at:"2018-08-17T18:00:11.504512+00:00",logurl:"/sampletravellog.json",id:3,status:"done"},color:"#AD1457",classes:[{id:1,grupo_id:1,closed:!1,preco_rodoviaria:166.18,max_split_value:120,ref_split_value:120,destaque:!0,vagas:5,layout:h[0],tipo_assento:"executivo",tipo_veiculo:"DD"}],onibus:{count_groups:5,classe:"ricardo / sampaio",capacidade:"25 / 25",next_group:null,id:2,name:"Sampaio Ricardo",tipo:"DD",company:{id:6,bank_account:null,antt_enabled:!1,payment_option:"",is_enabled:!0,name:"Carreta Furacão",cnpj:""},last_group:{vagas:2,checkin_status:"pending",origem:v[0],origem_id:v[0],trecho_id:25,confirming_probability:"very_low",status:"done",destino:v[1],destino_id:v[1].id,id:376,duracao_volta:null,chegada_volta:null,duracao_ida:36e6,datetime_ida:w()().add(1,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(73,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ")},placa:"RIC1234"},company_id:42,company_rating:4.2,company_name:"Cia. do Salame nome muito grande",company_logo_url:"http://levare.com.br/wp-content/uploads/2020/09/logotipo-300x23.png",company_operational_phone:"1234567653",onibus_placa:"OIE1234",onibus_features:["adaptado contra covid"],driver_name:"Embalagem Econômica",modelo_venda:"buser",cancellation_deadline_hours:3,trecho_alternativo:!1},{id:2,itinerario:_(1,0),trecho_id:2,embarque_status:"ULTIMA_CHAMADA",datetime_ida:w()().add(24,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(29,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),status:"travel_confirmed",foto_onibus:"https://placekitten.com/400/250",company_pos_bo:"Buser",onibus_pos_bo:"ABCDE",tipo_pos_bo:"Ônibus leito",origem:v[1],origem_id:v[1].id,destino:v[0],destino_id:v[0].id,tipo_assento:"executivo",tipo_veiculo:"micro-onibus",confirming_probability:"high",onibus_plotado:!1,travel_log:{created_at:"2018-12-17T17:59:57.200328+00:00",updated_at:"2018-12-17T18:00:11.504512+00:00",id:4,status:"in_route"},problem_description:"Furou o pneu, o onibus capotou, ninguém se feriu, mas o ônibus está inutilizável, afinal de contas ele explodiu quando capotou, sad story mas é o que aconteceu, pois é né.",color:"#F4511E",classes:[{id:2,grupo_id:2,closed:!1,preco_rodoviaria:168,max_split_value:110,ref_split_value:110,vagas:30,current_split_value:73.94,layout:h[0],reservations_last_day:10,trecho_alternativo:!1}],onibus:{cadeirinhas:4,count_groups:5,classe:"ricardo / sampaio",capacidade:"25 / 25",next_group:null,id:2,name:"Sampaio Ricardo",tipo:"DD",company:{id:6,bank_account:null,antt_enabled:!1,payment_option:"",is_enabled:!0,name:"Carreta Furacão",cnpj:""},last_group:{vagas:2,checkin_status:"pending",origem:v[3],origem_id:v[3].id,destino:v[2],destino_id:v[2].id,trecho_id:25,confirming_probability:"very_low",status:"travel_confirmed",id:376,duracao_volta:null,chegada_volta:null,duracao_ida:36e6,datetime_ida:w()().add(2,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(13,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ")},placa:"RIC1234"},company_id:42,company_name:"Raid",company_rating:4.2,company_operational_phone:"1234567653",onibus_features:["acessibilidade_deficientes","wifi","tomadas_coletivas"],onibus_placa:"WTF5678",driver_name:"Agite Antes de Usar",modelo_venda:"buser",company_logo_url:"http://levare.com.br/wp-content/uploads/2020/09/logotipo-300x23.png",cancellation_deadline_hours:1,trecho_alternativo:!1},{id:22,local_retirada:{tipo:"outro",descricao:"no guichê da Expresso, localizada no box 19. PS: A retirada deve ser feita até as 21h, após esse horário o guichê estará fechado"},itinerario:_(0,3),trecho_id:2,datetime_ida:w()().add(72,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(77,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),status:"travel_confirmed",company_pos_bo:null,onibus_pos_bo:null,tipo_pos_bo:"hide",origem:v[0],origem_id:v[0].id,destino:v[3],destino_id:v[3].id,tipo_assento:"executivo",tipo_veiculo:"DD",confirming_probability:"medium",onibus_plotado:!0,travel_log:{created_at:"2018-12-17T17:59:57.200328+00:00",updated_at:"2018-12-17T18:00:11.504512+00:00",id:4,status:"in_route"},onibus_placa:"OIE1235",problem_description:"Furou o pneu, o onibus capotou, ninguém se feriu, mas o ônibus está inutilizável, afinal de contas ele explodiu quando capotou, sad story mas é o que aconteceu, pois é né.",color:"#F4511E",classes:[{id:22,grupo_id:2,closed:!1,preco_rodoviaria:168,max_split_value:98,ref_split_value:140,vagas:28,current_split_value:73.94,layout:h[0],reservations_last_day:9}],company_id:44,company_name:"Cometinha",company_rating:4.2,company_operational_phone:"1234567653",modelo_venda:"hibrido",company_logo_url:"http://levare.com.br/wp-content/uploads/2020/09/logotipo-300x23.png",onibus_features:["acessibilidade_deficientes","wifi","tomadas_coletivas"],cancellation_deadline_hours:3,trecho_alternativo:!1},{id:11,local_retirada:{tipo:"guiche",descricao:"no guichê da Expresso, localizada no box 19. PS: A retirada deve ser feita até as 21h, após esse horário o guichê estará fechado"},company_pos_bo:null,onibus_pos_bo:null,tipo_pos_bo:"Taxi",itinerario:_(6,11),trecho_id:5,datetime_ida:w()().add(1,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(30,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),status:"pending",origem:v[6],origem_id:v[6].id,destino:v[11],destino_id:v[11].id,onibus_placa:"AEZ5689",confirming_probability:"medium",onibus_plotado:!1,classes:[{id:6,grupo_id:6,closed:!1,preco_rodoviaria:189,max_split_value:102,ref_split_value:110,vagas:0,current_split_value:126,tipo_assento:"executivo",tipo_veiculo:"van",layout:h[0],reservations_last_day:2}],company_id:44,company_name:"Cometinha",company_rating:4.2,company_operational_phone:"1234567653",modelo_venda:"marketplace",company_logo_url:"http://levare.com.br/wp-content/uploads/2020/09/logotipo-300x23.png",onibus_features:["acessibilidade_deficientes","wifi","tomadas_coletivas"],cancellation_deadline_hours:1,trecho_alternativo:!1},{id:3,local_retirada:{tipo:"guiche",descricao:"no guichê da Expresso, localizada no box 19. PS: A retirada deve ser feita até as 21h, após esse horário o guichê estará fechado"},itinerario:_(1,3),trecho_id:3,datetime_ida:w()().add(8,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(38,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),status:"pending",company_pos_bo:null,onibus_pos_bo:null,tipo_pos_bo:null,origem:v[1],origem_id:v[1].id,destino:v[3],destino_id:v[3].id,confirming_probability:"medium",onibus_plotado:!0,alerta:{title:"Problema na Bahia",description:"Descrição do problema na Bahia",link:"https://buser.com.br/ba",pages:["reserva-confirmada","search","travel-details"]},color:"#E4C441",classes:[{id:3,grupo_id:3,closed:!1,preco_rodoviaria:189,max_split_value:103,ref_split_value:120,promocao:{promotional_value:80,value:20,description:"Desconto 30% Feriadão"},pessoas:12,vagas:9,current_split_value:123,tipo_assento:"leito",tipo_veiculo:"DD",layout:h[1],reservations_last_day:3},{id:4,grupo_id:5,closed:!1,preco_rodoviaria:189,max_split_value:103,ref_split_value:120,vagas:9,pessoas:3,current_split_value:123,tipo_assento:"leito cama",tipo_veiculo:"LD",layout:h[1],reservations_last_day:3}],company_id:44,company_name:"Cometinha",company_rating:4.2,company_operational_phone:"1234567653",modelo_venda:"marketplace",company_logo_url:"http://levare.com.br/wp-content/uploads/2020/09/logotipo-300x23.png",onibus_features:["acessibilidade_deficientes","wifi","tomadas_coletivas"],cancellation_deadline_hours:3,trecho_alternativo:!1},{id:4,local_retirada:{tipo:"guiche",descricao:"no guichê da Expresso, localizada no box 19. PS: A retirada deve ser feita até as 21h, após esse horário o guichê estará fechado"},itinerario:_(1,5),trecho_id:4,datetime_ida:w()().add(35,"minutes").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(72,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),status:"canceled",company_pos_bo:null,onibus_pos_bo:null,tipo_pos_bo:null,origem:v[1],origem_id:v[1].id,destino:v[5],destino_id:v[5].id,confirming_probability:"very_low",onibus_plotado:!1,color:"#0B8043",classes:[{id:44,grupo_id:4,closed:!1,preco_rodoviaria:191,max_split_value:20,ref_split_value:20,vagas:12,current_split_value:124,tipo_assento:"leito",tipo_veiculo:"leito",layout:h[2],reservations_last_day:4}],company_id:44,company_name:"Cometinha",company_rating:4.2,company_operational_phone:"1234567653",modelo_venda:"marketplace",company_logo_url:"https://www.cometinha.com.br/wp-content/uploads/2019/07/logo-cometinha.png",onibus_features:["acessibilidade_deficientes","wifi","tomadas_coletivas"],cancellation_deadline_hours:3,trecho_alternativo:!1},{id:551,local_retirada:{tipo:"guiche",descricao:"no guichê da Expresso, localizada no box 19. PS: A retirada deve ser feita até as 21h, após esse horário o guichê estará fechado"},itinerario:_(4,2),trecho_id:5551,company_pos_bo:null,onibus_pos_bo:null,tipo_pos_bo:null,datetime_ida:w()().add(7.5,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(22.5,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),status:"done",problem_description:"Furou o pneu, o onibus capotou, ninguém se feriu, mas o ônibus está inutilizável, afinal de contas ele explodiu quando capotou, sad story mas é o que aconteceu, pois é né.",ressarcido:!0,ressarcimento_factor:.5,ressarcimento_reason:"Ressarcimos 50% do valor do rateio por causa do atraso de 10 min.",origem:v[4],origem_id:v[4].id,destino:v[2],destino_id:v[2].id,color:"#3F51B5",nf_url:"blablabla",classes:[{id:5551,grupo_id:5551,closed:!1,preco_rodoviaria:202,max_split_value:62,ref_split_value:62,vagas:2,current_split_value:126,tipo_assento:"LEITO CAMA",tipo_veiculo:"DD",layout:h[1],reservations_last_day:10}],company_id:44,company_name:"Cometinha",company_rating:4.2,company_operational_phone:"1234567653",modelo_venda:"marketplace",company_logo_url:"https://www.cometinha.com.br/wp-content/uploads/2019/07/logo-cometinha.png",onibus_features:["acessibilidade_deficientes","wifi","tomadas_coletivas"],cancellation_deadline_hours:3,trecho_alternativo:!1},{id:552,local_retirada:{tipo:"guiche",descricao:"no guichê da Expresso, localizada no box 19. PS: A retirada deve ser feita até as 21h, após esse horário o guichê estará fechado"},itinerario:_(4,2),trecho_id:5552,datetime_ida:w()().add(11.5,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(33,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),status:"done",company_pos_bo:null,onibus_pos_bo:null,tipo_pos_bo:null,problem_description:"Furou o pneu, o onibus capotou, ninguém se feriu, mas o ônibus está inutilizável, afinal de contas ele explodiu quando capotou, sad story mas é o que aconteceu, pois é né.",ressarcido:!0,ressarcimento_factor:.5,ressarcimento_reason:"Ressarcimos 50% do valor do rateio por causa do atraso de 10 min.",origem:v[4],origem_id:v[4].id,destino:v[2],destino_id:v[2].id,color:"#3F51B5",nf_url:"blablabla",classes:[{id:5552,grupo_id:5552,closed:!1,preco_rodoviaria:202,max_split_value:62,ref_split_value:62,vagas:2,current_split_value:126,tipo_assento:"LEITO CAMA",tipo_veiculo:"DD",layout:h[1],reservations_last_day:10}],company_id:44,company_name:"Cometinha",company_operational_phone:"1234567653",modelo_venda:"marketplace",company_logo_url:"https://www.cometinha.com.br/wp-content/uploads/2019/07/logo-cometinha.png",onibus_features:["acessibilidade_deficientes","wifi","tomadas_coletivas"],cancellation_deadline_hours:3,trecho_alternativo:!1},{id:553,local_retirada:{tipo:"guiche",descricao:"no guichê da Expresso, localizada no box 19. PS: A retirada deve ser feita até as 21h, após esse horário o guichê estará fechado"},itinerario:_(4,2),trecho_id:5553,datetime_ida:w()().add(12.5,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(50,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),status:"done",company_pos_bo:null,onibus_pos_bo:null,tipo_pos_bo:null,problem_description:"Furou o pneu, o onibus capotou, ninguém se feriu, mas o ônibus está inutilizável, afinal de contas ele explodiu quando capotou, sad story mas é o que aconteceu, pois é né.",ressarcido:!0,ressarcimento_factor:.5,ressarcimento_reason:"Ressarcimos 50% do valor do rateio por causa do atraso de 10 min.",origem:v[4],origem_id:v[4].id,destino:v[2],destino_id:v[2].id,color:"#3F51B5",nf_url:"blablabla",classes:[{id:5553,grupo_id:5553,closed:!1,preco_rodoviaria:202,max_split_value:62,ref_split_value:62,vagas:2,current_split_value:126,tipo_assento:"LEITO CAMA",tipo_veiculo:"DD",layout:h[1],reservations_last_day:10}],company_id:44,company_name:"Cometinha",company_rating:4.2,company_operational_phone:"1234567653",modelo_venda:"marketplace",company_logo_url:"https://www.cometinha.com.br/wp-content/uploads/2019/07/logo-cometinha.png",onibus_features:["acessibilidade_deficientes","wifi","tomadas_coletivas"],cancellation_deadline_hours:3,trecho_alternativo:!1},{id:554,local_retirada:{tipo:"outro",descricao:"no guichê da Expresso, localizada no box 19. PS: A retirada deve ser feita até as 21h, após esse horário o guichê estará fechado"},company_pos_bo:null,onibus_pos_bo:null,tipo_pos_bo:null,itinerario:_(4,2),trecho_id:5554,datetime_ida:w()().add(13.5,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(78,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),status:"done",problem_description:"Furou o pneu, o onibus capotou, ninguém se feriu, mas o ônibus está inutilizável, afinal de contas ele explodiu quando capotou, sad story mas é o que aconteceu, pois é né.",ressarcido:!0,ressarcimento_factor:.5,ressarcimento_reason:"Ressarcimos 50% do valor do rateio por causa do atraso de 10 min.",origem:v[4],origem_id:v[4].id,destino:v[2],destino_id:v[2].id,color:"#3F51B5",nf_url:"blablabla",classes:[{id:5554,grupo_id:5554,closed:!1,preco_rodoviaria:202,max_split_value:62,ref_split_value:62,vagas:2,current_split_value:126,tipo_assento:"LEITO CAMA",tipo_veiculo:"DD",layout:h[1],reservations_last_day:10}],company_id:44,company_name:"Cometinha",company_rating:4.2,company_operational_phone:"1234567653",modelo_venda:"hibrido",company_logo_url:"https://www.cometinha.com.br/wp-content/uploads/2019/07/logo-cometinha.png",onibus_features:["acessibilidade_deficientes","wifi","tomadas_coletivas"],cancellation_deadline_hours:3,trecho_alternativo:!1},{id:555,local_retirada:{tipo:"guiche",descricao:"no guichê da Expresso, localizada no box 19. PS: A retirada deve ser feita até as 21h, após esse horário o guichê estará fechado"},company_pos_bo:null,onibus_pos_bo:null,tipo_pos_bo:null,itinerario:_(4,2),trecho_id:5555,datetime_ida:w()().add(14,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(27,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),status:"done",problem_description:"Furou o pneu, o onibus capotou, ninguém se feriu, mas o ônibus está inutilizável, afinal de contas ele explodiu quando capotou, sad story mas é o que aconteceu, pois é né.",ressarcido:!0,ressarcimento_factor:.5,ressarcimento_reason:"Ressarcimos 50% do valor do rateio por causa do atraso de 10 min.",origem:v[4],origem_id:v[4].id,destino:v[2],destino_id:v[2].id,color:"#3F51B5",nf_url:"blablabla",classes:[{id:555513,grupo_id:555513,closed:!1,preco_rodoviaria:202,max_split_value:62,ref_split_value:62,vagas:2,current_split_value:126,tipo_assento:"LEITO CAMA",tipo_veiculo:"DD",layout:h[1],reservations_last_day:10}],company_id:44,company_name:"Cometinha",company_operational_phone:"1234567653",modelo_venda:"marketplace",company_logo_url:"https://www.cometinha.com.br/wp-content/uploads/2019/07/logo-cometinha.png",onibus_features:["acessibilidade_deficientes","wifi","tomadas_coletivas"],cancellation_deadline_hours:3,trecho_alternativo:!1},{id:5510,local_retirada:{tipo:"guiche",descricao:"no guichê da Expresso, localizada no box 19. PS: A retirada deve ser feita até as 21h, após esse horário o guichê estará fechado"},company_pos_bo:null,onibus_pos_bo:null,tipo_pos_bo:null,itinerario:_(4,2),trecho_id:55510,datetime_ida:w()().add(23,"minutes").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(80,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),status:"done",problem_description:"Furou o pneu, o onibus capotou, ninguém se feriu, mas o ônibus está inutilizável, afinal de contas ele explodiu quando capotou, sad story mas é o que aconteceu, pois é né.",ressarcido:!0,ressarcimento_factor:.5,ressarcimento_reason:"Ressarcimos 50% do valor do rateio por causa do atraso de 10 min.",origem:v[4],origem_id:v[4].id,destino:v[2],destino_id:v[2].id,color:"#3F51B5",nf_url:"blablabla",classes:[{id:55510,grupo_id:55510,closed:!0,preco_rodoviaria:202,max_split_value:62,ref_split_value:62,vagas:2,current_split_value:126,tipo_assento:"LEITO CAMA",tipo_veiculo:"DD",layout:h[1],reservations_last_day:10}],company_id:44,company_name:"Cometinha",company_rating:4.2,company_operational_phone:"1234567653",modelo_venda:"marketplace",company_logo_url:"https://www.cometinha.com.br/wp-content/uploads/2019/07/logo-cometinha.png",onibus_features:["acessibilidade_deficientes","wifi","tomadas_coletivas"],cancellation_deadline_hours:3,trecho_alternativo:!1},{id:5511,local_retirada:{tipo:"guiche",descricao:"no guichê da Expresso, localizada no box 19. PS: A retirada deve ser feita até as 21h, após esse horário o guichê estará fechado"},company_pos_bo:null,onibus_pos_bo:null,tipo_pos_bo:null,itinerario:_(13,14),trecho_id:55510,datetime_ida:w()().add(23,"minutes").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),chegada_ida:w()().add(80,"hours").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),status:"going",problem_description:"Furou o pneu, o onibus capotou, ninguém se feriu, mas o ônibus está inutilizável, afinal de contas ele explodiu quando capotou, sad story mas é o que aconteceu, pois é né.",ressarcido:!0,ressarcimento_factor:.5,ressarcimento_reason:"Ressarcimos 50% do valor do rateio por causa do atraso de 10 min.",origem:v[13],origem_id:v[13].id,destino:v[14],destino_id:v[14].id,color:"#3F51B5",nf_url:"blablabla",classes:[{id:55511,grupo_id:55511,closed:!0,preco_rodoviaria:202,max_split_value:62,ref_split_value:62,vagas:2,current_split_value:126,tipo_assento:"LEITO CAMA",tipo_veiculo:"DD",layout:h[1],reservations_last_day:10}],company_id:67,company_name:"Jundiá",company_rating:4.2,company_operational_phone:"1234567653",modelo_venda:"marketplace",company_logo_url:"https://www.cometinha.com.br/wp-content/uploads/2019/07/logo-cometinha.png",onibus_features:["acessibilidade_deficientes","wifi","tomadas_coletivas"],cancellation_deadline_hours:3,trecho_alternativo:!1}]},792:function(e,t,o){"use strict";o(334),o(41),o(33),o(45),o(10);var r={name:"trecho-itinerario-hidden",props:{itinerario:{type:Array,required:!0},origem:{type:Object,default:function(){}},destino:{type:Object,default:function(){}},datetimeIda:String,chegadaIda:String,showOrigemDescription:{type:Boolean,default:!0},showDestinoDescription:{type:Boolean,default:!0}},computed:{hasHorarioIdaOuChegada:function(){return this.datetimeIda||this.chegadaIda},idxOrigem:function(){var e=this;return this.origem&&this.itinerario.findIndex((function(t){return e.origem.id===t.local_id}))},idxDestino:function(){var e=this;return this.destino&&this.itinerario.findIndex((function(t){return e.destino.id===t.local_id}))},percurso:function(){return this.origem&&this.destino?this.itinerario.slice(this.idxOrigem,this.idxDestino+1):this.itinerario},localEmbarque:function(){return this.percurso[0].local},localDesembarque:function(){return this.percurso[this.percurso.length-1].local},localParadas:function(){return this.percurso.length<2?[]:this.percurso.slice(1,-1).map((function(e){return e.local}))}},methods:{getPontoUrl:function(e){var t=e.slug.split("-"),o=t.pop(),r=t.join("-");return"/pontos/".concat(o,"/").concat(r,"/").concat(e.bairro_slug,"/").concat(e.nickname_slug)},getDescription:function(e){var t="";return e.endereco_referencia&&(t+="".concat(e.endereco_referencia,". ")),t+=e.description},getEnderecoHeading:function(e){var t="";return e.endereco_bairro&&(t+=" - ".concat(e.endereco_bairro)),t+=", ".concat(e.sigla)},getEnderecoCompleto:function(e){var t=e.endereco_cep?"".concat(e.endereco_cep.slice(0,5),"-").concat(e.endereco_cep.slice(5)):null,o="";return o+=e.endereco?e.endereco:"",o+=e.name?", ".concat(e.name):"",o+=e.uf?" - ".concat(e.uf):"",o+=t?", ".concat(t):""}}},n=o(4),component=Object(n.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.percurso&&e.percurso.length?o("ul",[o("li",[e.hasHorarioIdaOuChegada?o("div",[e._v(e._s(e._f("daymonthhour")(e.datetimeIda)))]):e._e(),e._v(" "),o("h3",[e._v("\n      Embarque: "),o("a",{attrs:{href:e.getPontoUrl(e.localEmbarque)}},[e._v(e._s(e.localEmbarque.nickname))]),e._v("\n      "+e._s(e.getEnderecoHeading(e.localEmbarque))+"\n    ")]),e._v(" "),o("h4",[e._v(e._s(e.getEnderecoCompleto(e.localEmbarque)))]),e._v(" "),e.showOrigemDescription&&e.localEmbarque.description?o("pre",[e._v("      "+e._s(e.getDescription(e.localEmbarque))+"\n    ")]):e._e()]),e._v(" "),e._l(e.localParadas,(function(t){return o("li",{key:t.id},[o("h3",[o("a",{attrs:{href:e.getPontoUrl(t)}},[e._v(e._s(t.nickname))]),e._v("\n      "+e._s(e.getEnderecoHeading(t))+"\n    ")]),e._v(" "),o("h4",[e._v(e._s(e.getEnderecoCompleto(t)))])])})),e._v(" "),o("li",[e.hasHorarioIdaOuChegada?o("div",[e._v(e._s(e._f("daymonthhour")(e.chegadaIda)))]):e._e(),e._v(" "),o("h3",[e._v("\n      Desembarque: "),o("a",{attrs:{href:e.getPontoUrl(e.localDesembarque),target:"_blank"}},[e._v(e._s(e.localDesembarque.nickname))]),e._v(e._s(e.getEnderecoHeading(e.localDesembarque))+"\n    ")]),e._v(" "),o("h4",[e._v(e._s(e.getEnderecoCompleto(e.localDesembarque)))]),e._v(" "),e.showDestinoDescription&&e.localDesembarque.description?o("pre",{staticClass:"text-2 mt-1"},[e._v("      "+e._s(e.getDescription(e.localDesembarque))+"\n    ")]):e._e()])],2):e._e()}),[],!1,null,null,null);t.a=component.exports},826:function(e,t,o){"use strict";o(729)},827:function(e,t,o){"use strict";o(730)},828:function(e,t,o){"use strict";o(732)},829:function(e,t,o){"use strict";o(733)},830:function(e,t,o){"use strict";o(734)},831:function(e,t,o){"use strict";o(735)},832:function(e,t,o){"use strict";o(736)},833:function(e,t,o){"use strict";o(737)}}]);