(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1010:function(t,e,r){},1011:function(t,e,r){},1012:function(t,e,r){},1065:function(t,e,r){},1162:function(t,e,r){"use strict";var o=r(2),n=(r(17),r(33),r(10),r(6)),c=r.n(n),l=r(704),d=r(29),m=r(72),f=r(3),h={props:{vertical:Boolean,voltaRequired:Boolean,filterStates:String,minDateIda:String,maxDateIda:String,minDateVolta:String,maxDateVolta:String},components:{selectOrigemDestino:l.a},data:function(){return{departureModal:!1,returnModal:!1,returnDate:null,departureDate:null,returnDateStart:c()().format("YYYY-MM-DD"),showError:!1,defaultOptions:[]}},mounted:function(){this.departureDate=this.$route.query.ida,this.returnDate=this.$route.query.volta,this.preencherTrechoComum(),this.loadDefaultOptions()},methods:{loadDefaultOptions:function(){var t=this;f.a.auth.favoritePlaces().then((function(e){t.defaultOptions=e.map((function(t){return t.label="".concat(t.name," - ").concat(t.uf),t}))}))},search:function(){if(this.fromCity||this.toCity){if(this.hasChangedSearchParams())if(!this.voltaRequired||this.returnDate){var t="searchPageV1";this.fromCity?this.toCity||(t="searchOriginPageV1"):t="searchDestinationPageV1";var e={};!this.departureDate&&this.returnDate?(e.ida=this.returnDate,this.departureDate=this.returnDate,this.returnDate=null):(this.departureDate&&(e.ida=this.departureDate),this.returnDate&&(e.volta=this.returnDate));var r={origem:this.fromCity&&this.fromCity.slug,destino:this.toCity&&this.toCity.slug};this.$store.commit("search/setGrupoIda",null),this.fromCity&&this.toCity||this.$store.dispatch("search/clearSearchStatistics"),d.a.push(t,this.$route.name,r,e,this.$router)}else this.$store.commit("toast/open",{message:"Preencha todos os campos",type:"error"})}else this.showError=!0},hasChangedSearchParams:function(){var t=this.fromCity&&this.fromCity.slug&&this.fromCity.slug!==this.$route.params.origem,e=this.toCity&&this.toCity.slug&&this.toCity.slug!==this.$route.params.destino,r=!this.fromCity&&this.$route.params.origem,o=!this.toCity&&this.$route.params.destino,n=this.departureDate!==this.$route.query.ida,c=this.returnDate!==this.$route.query.volta;return t||e||r||o||n||c},swapOrigemDestino:function(){var t=[this.toCity,this.fromCity];this.fromCity=t[0],this.toCity=t[1]},preencherTrechoComum:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.$store.getters["auth/loggedIn"]||t.fromCity||t.toCity)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m.a.obterTrechoComumMaisProximo();case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return");case 7:t.fromCity={label:r.origemLabel,slug:r.origemSlug},t.toCity={label:r.destinoLabel,slug:r.destinoSlug};case 9:case"end":return e.stop()}}),e)})))()}},computed:{toCity:{get:function(){return this.$store.getters["search/getToCity"]},set:function(t){this.$store.commit("search/setToCity",t)}},fromCity:{get:function(){return this.$store.getters["search/getFromCity"]},set:function(t){this.$store.commit("search/setFromCity",t)}},today:function(){return c()().format("YYYY-MM-DD")},searchError:function(){return this.showError&&!this.fromCity&&!this.toCity&&"Informe uma cidade"}},watch:{$route:function(t){this.departureDate=t.query.ida,this.returnDate=t.query.volta}}},v=(r(1730),r(4)),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ada-card",{staticClass:"search-box",attrs:{outlined:"",rounded:"",elevation:"close"}},[r("form",{staticClass:"sb-container",attrs:{autocomplete:"off"}},[r("select-origem-destino",{key:"origem",staticClass:"sb-city",attrs:{type:"origem","default-options":t.defaultOptions,remote:""},on:{clear:function(e){t.fromCity=null},swap:t.swapOrigemDestino},model:{value:t.fromCity,callback:function(e){t.fromCity=e},expression:"fromCity"}}),t._v(" "),r("select-origem-destino",{key:"destino",staticClass:"sb-city",attrs:{type:"destino","default-options":t.defaultOptions,remote:""},on:{clear:function(e){t.toCity=null}},model:{value:t.toCity,callback:function(e){t.toCity=e},expression:"toCity"}}),t._v(" "),r("ada-datepicker",{staticClass:"sb-date",attrs:{"min-date":t.minDateIda||t.today,"max-date":t.maxDateIda,"text-format":"DD/MMM",label:"Data de ida",placeholder:"Ida",clearable:""},model:{value:t.departureDate,callback:function(e){t.departureDate=e},expression:"departureDate"}}),t._v(" "),r("ada-datepicker",{staticClass:"sb-date",attrs:{"min-date":t.departureDate||t.minDateVolta||t.today,"max-date":t.maxDateVolta,"text-format":"DD/MMM",label:"Data de volta",placeholder:"Volta",clearable:""},model:{value:t.returnDate,callback:function(e){t.returnDate=e},expression:"returnDate"}}),t._v(" "),r("ada-button",{staticClass:"sb-button",attrs:{color:"primary","aria-label":"Buscar"},on:{click:t.search}},[r("fa",{staticClass:"fs-l-icon text-white",attrs:{icon:["fas","magnifying-glass"]}}),t._v(" "),r("p",{staticClass:"sbs-text"},[t._v("Buscar")])],1)],1),t._v(" "),t.searchError?r("p",{staticClass:"text-red px-1 pt-1"},[t._v(t._s(t.searchError))]):t._e()])}),[],!1,null,"6860f9f4",null);e.a=component.exports},1163:function(t,e,r){"use strict";var o={components:{selectOrigemDestino:r(704).a},data:function(){return{fromCity:null,toCity:null,departureDate:null,returnDate:null}}},n=(r(1731),r(4)),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ada-card",{staticClass:"search-box",attrs:{outlined:"",rounded:"",elevation:"close"}},[r("form",{staticClass:"sb-container",attrs:{autocomplete:"off"}},[r("select-origem-destino",{staticClass:"sb-city",attrs:{type:"origem"},on:{clear:function(e){t.fromCity=null},swap:function(){return null}},model:{value:t.fromCity,callback:function(e){t.fromCity=e},expression:"fromCity"}}),t._v(" "),r("select-origem-destino",{staticClass:"sb-city",attrs:{type:"destino"},on:{clear:function(){return null}},model:{value:t.toCity,callback:function(e){t.toCity=e},expression:"toCity"}}),t._v(" "),r("ada-datepicker",{staticClass:"sb-date",attrs:{"text-format":"DD/MMM",label:"Data de ida",placeholder:"Ida",clearable:""},model:{value:t.departureDate,callback:function(e){t.departureDate=e},expression:"departureDate"}}),t._v(" "),r("ada-datepicker",{staticClass:"sb-date",attrs:{"text-format":"DD/MMM",label:"Data de volta",placeholder:"Volta",clearable:""},model:{value:t.returnDate,callback:function(e){t.returnDate=e},expression:"returnDate"}}),t._v(" "),r("ada-button",{staticClass:"sb-button",attrs:{color:"primary","aria-label":"Buscar"}},[r("fa",{staticClass:"fs-l-icon text-white",attrs:{icon:["fas","magnifying-glass"]}}),t._v(" "),r("span",{staticClass:"sbs-text"},[t._v("Buscar")])],1)],1)])}),[],!1,null,"335dd6fb",null);e.a=component.exports},1729:function(t,e,r){"use strict";r(1010)},1730:function(t,e,r){"use strict";r(1011)},1731:function(t,e,r){"use strict";r(1012)},1826:function(t,e,r){"use strict";r(1065)},406:function(t,e,r){"use strict";r.r(e);r(12),r(13),r(16),r(20),r(21);var o=r(2),n=r(7),c=(r(17),r(28)),l=r(3),d=r(663),m=r(867),f=r(678);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var v={name:"rotas",layout:"andromeda",components:{origemDestino:d.a,searchBox:m.a,faqSection:f.a},data:function(){return{breadcrumbs:[{route:{name:"home"},text:"Home"},{route:{name:"rotas"},text:"Ônibus"}]}},head:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({link:[{rel:"canonical",href:"https://www.buser.com.br/onibus"}]},c.a.generateMetaTags({title:"Confira as rotas que estamos operando."}))},asyncData:function(){return Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.passenger.getRoutesWithGroupsList();case 3:return e=t.sent,t.abrupt("return",{routeList:e});case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},C=v,y=(r(1826),r(4)),component=Object(y.a)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"rotas"},[r("ada-header",{scopedSlots:t._u([{key:"breadcrumbs",fn:function(){return[r("ada-breadcrumbs",{attrs:{items:t.breadcrumbs}})]},proxy:!0}])},[t._v(" "),r("search-box",{staticClass:"custom-search-box"})],1),t._v(" "),r("ada-container",{staticClass:"pt-10 pb-9"},[r("h1",{staticClass:"title-2 mb-4"},[t._v("Confira as rotas que estamos operando:")]),t._v(" "),t._l(t.routeList,(function(e,i){return r("ada-card",{key:i,staticClass:"r-rota",attrs:{outlined:"",rounded:""}},[r("origem-destino",{attrs:{"text-ellipsis":"","text-bold":"",origem:t._f("cidade")(e.origem),destino:t._f("cidade")(e.destino),"icon-origem":["fal","circle"],"icon-destino":["fal","location-dot"]}}),t._v(" "),r("ada-link",{staticClass:"rr-ver-horarios",attrs:{appearance:"button",color:"primary",to:{name:"searchPageV1",params:{origem:e.origem.slug,destino:e.destino.slug}}}},[t._v("\n        Ver horários\n      ")])],1)}))],2),t._v(" "),r("faq-section")],1)}),[],!1,null,"3c9343f4",null);e.default=component.exports},642:function(t,e,r){},644:function(t,e,r){},647:function(t,e,r){"use strict";var o={name:"seoFaqPage"},n=r(4),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("section",{attrs:{itemscope:"",itemtype:"https://schema.org/FAQPage"}},[t._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},657:function(t,e,r){"use strict";var o={name:"seoFaqQuestion",props:{hiddenQuestion:String}},n=r(4),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{attrs:{itemscope:"",itemprop:"mainEntity",itemtype:"https://schema.org/Question"}},[t.hiddenQuestion?r("div",{staticStyle:{display:"none"},attrs:{itemprop:"name"}},[t._v("\n    "+t._s(t.hiddenQuestion)+"\n  ")]):t._e(),t._v(" "),t._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},658:function(t,e,r){"use strict";var o={name:"seoFaqAnswer",props:{answerHtml:[String,Array]}},n=(r(664),r(4)),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{itemscope:"",itemprop:"acceptedAnswer",itemtype:"https://schema.org/Answer"}},[t._t("default",(function(){return[r("div",{staticClass:"answer",attrs:{itemprop:"text"},domProps:{innerHTML:t._s(t.answerHtml)}})]}),{itemprop:"text"})],2)}),[],!1,null,null,null);e.a=component.exports},663:function(t,e,r){"use strict";var o={props:{origem:{type:String,required:!0},destino:{type:String,required:!0},dataIda:String,iconOrigem:[String,Array],iconDestino:[String,Array],textBold:Boolean,textEllipsis:Boolean,textColor:String},computed:{getClass:function(){return{"color-dark-gray":"dark-gray"===this.textColor,"color-dark-grey":"dark-grey"===this.textColor,"color-pink":"pink"===this.textColor,"fw-bold":this.textBold,"od-ellipsis":this.textEllipsis}}}},n=(r(665),r(4)),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"origem-destino"},[r("div",{staticClass:"od-container"},[t.dataIda?[r("fa",{staticClass:"od-data",attrs:{icon:["fal","fa-calendar-day"]}}),t._v(" "),r("p",{staticClass:"od-data"},[t._v(t._s(t._f("extendedweekdayhour")(t.dataIda)))])]:t._e(),t._v(" "),r("span",{staticClass:"od-line od-line-start",class:{bullet:!t.iconOrigem}},[t.iconOrigem?r("fa",{staticClass:"od-icon",attrs:{icon:t.iconOrigem,size:"xs"}}):t._e()],1),t._v(" "),r("div",{staticClass:"od-name"},[r("span",{class:t.getClass,domProps:{innerHTML:t._s(t.origem)}})]),t._v(" "),r("span",{staticClass:"od-line od-line-end",class:{bullet:!t.iconDestino}},[t.iconDestino?r("fa",{staticClass:"od-icon",attrs:{icon:t.iconDestino}}):t._e()],1),t._v(" "),r("div",{staticClass:"od-name"},[r("span",{class:t.getClass,domProps:{innerHTML:t._s(t.destino)}})])],2)])}),[],!1,null,"4956672f",null);e.a=component.exports},664:function(t,e,r){"use strict";r(642)},665:function(t,e,r){"use strict";r(644)},678:function(t,e,r){"use strict";var o=r(647),n=r(657),c={name:"faq-section",components:{seoFaqAnswer:r(658).a,seoFaqQuestion:n.a,seoFaqPage:o.a},props:{faqPageSchema:{type:Boolean,default:!0},empresa:String,origem:String,destino:String},computed:{faqPageSchemaComponent:function(){return this.faqPageSchema?o.a:"section"},destinoLabel:function(){return this.destino||this.origem?"para ".concat(this.destino||this.origem):""},origemLabel:function(){return this.origem||this.destino?"de ".concat(this.origem||this.destino):""},empresaLabel:function(){return this.empresa?"".concat(this.empresa," pela Buser"):"Buser"}}},l=(r(746),r(4)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ada-container",{staticClass:"faq-section"},[r(t.faqPageSchemaComponent,{tag:"component"},[r("h2",{staticClass:"title-2 pt-3 pb-2"},[t._v("Perguntas frequentes")]),t._v(" "),r("div",{staticClass:"fs-section"},[r("seo-faq-question",{staticClass:"fs-content"},[r("div",{staticClass:"fs-content-title"},[r("fa",{staticClass:"icon fs-content-icon",attrs:{icon:["fal","piggy-bank"]}}),t._v(" "),r("h3",{staticClass:"title-0",attrs:{itemprop:"name"}},[t._v("\n            Por que "),r("strong",{staticClass:"title-0"},[t._v("é mais barato viajar "+t._s(t.destinoLabel)+"\n            com a "+t._s(t.empresaLabel))]),t._v("?\n          ")])],1),t._v(" "),r("seo-faq-answer",[r("p",{staticClass:"fs-content-text text-3",attrs:{itemprop:"text"}},[t._v("\n            A Buser oferece viagens de ônibus "+t._s(t.destinoLabel)+" "),r("strong",[t._v("até 60% mais baratas")]),t._v("\n            em relação ao preço médio das passagens rodoviárias, o "),r("strong",[t._v("seguro de vida é grátis e não têm taxas de\n            serviço")]),t._v(" exigidas em outros sites de viagens.\n          ")])])],1),t._v(" "),r("seo-faq-question",{staticClass:"fs-content"},[r("div",{staticClass:"fs-content-title"},[r("fa",{staticClass:"icon fs-content-icon",attrs:{icon:["fal","laptop-mobile"]}}),t._v(" "),r("h3",{staticClass:"title-0",attrs:{itemprop:"name"}},[t._v("\n            Por que "),r("strong",{staticClass:"title-0"},[t._v("é mais prático viajar "+t._s(t.origemLabel)+" com a Buser")]),t._v("?\n          ")])],1),t._v(" "),r("seo-faq-answer",[r("p",{staticClass:"fs-content-text text-3",attrs:{itemprop:"text"}},[t._v("\n            Você escolhe se embarca na rodoviária ou um ponto exclusivo da Buser "+t._s(t.origem||t.destino?"em "+(t.origem||t.destino):"")+". No exclusivo,\n            você precisa apenas de um documento com foto e não precisa imprimir nada. "),r("strong",[t._v("Viaje sem filas e sem burocracias")]),t._v(".\n          ")])])],1),t._v(" "),r("seo-faq-question",{staticClass:"fs-content"},[r("div",{staticClass:"fs-content-title"},[r("fa",{staticClass:"icon fs-content-icon",attrs:{icon:["fal","bed-front"]}}),t._v(" "),r("h3",{staticClass:"title-0",attrs:{itemprop:"name"}},[t._v("\n            Os "),r("strong",{staticClass:"title-0"},[t._v("ônibus da Buser "+t._s(t.destinoLabel)+" são mais confortáveis")]),t._v("?\n          ")])],1),t._v(" "),r("seo-faq-answer",[r("p",{staticClass:"fs-content-text text-3",attrs:{itemprop:"text"}},[t._v("\n            A Buser tem opções de ônibus cama, leito ou semi-leito, "),r("strong",[t._v("mais confortáveis que os convencionais")]),t._v(". A maioria dos\n            ônibus "+t._s(t.destinoLabel)+" possui "),r("strong",[t._v("ar-condicionado, Wi-Fi, tomadas e água mineral")]),t._v(".\n          ")])])],1),t._v(" "),r("seo-faq-question",{staticClass:"fs-content"},[r("div",{staticClass:"fs-content-title"},[r("fa",{staticClass:"icon fs-content-icon",attrs:{icon:["fal","shield-check"]}}),t._v(" "),r("h3",{staticClass:"title-0",attrs:{itemprop:"name"}},[r("strong",{staticClass:"title-0"},[t._v("É seguro viajar de ônibus "+t._s(t.origemLabel))]),t._v(" com a Buser?\n          ")])],1),t._v(" "),r("seo-faq-answer",[r("p",{staticClass:"fs-content-text text-3",attrs:{itemprop:"text"}},[t._v("\n            Todas as empresas de "),r("strong",[t._v("ônibus e motoristas das viagens "+t._s(t.origemLabel)+" são certificados pela ANTT")]),t._v(" - Agência Nacional de\n            Transportes Terrestres e o "),r("strong",[t._v("seguro de vida é gratuito para todos os passageiros")]),t._v(".\n          ")])])],1)],1)])],1)}),[],!1,null,"42f5cf1a",null);e.a=component.exports},691:function(t,e,r){},704:function(t,e,r){"use strict";r(32);var o=r(155),n={props:{value:Object,cities:Array,type:{type:String,validator:function(t){return["origem","destino"].includes(t)}},trechosVendidosMap:Object,remote:{type:Boolean,default:!1},defaultOptions:{type:Array,default:function(){return[]}}},components:{selectCity:o.a},computed:{isOrigem:function(){return"origem"===this.type}}},c=r(4),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("select-city",{attrs:{label:t.isOrigem?"Saindo de":"Indo para",placeholder:"Digite uma cidade","end-button-title":"Inverter origem e destino","end-button-icon":t.isOrigem?["fal",t.$andromeda.breakpoint.lgAndUp?"arrow-right-arrow-left":"arrow-down-arrow-up"]:null,"start-icon":t.isOrigem?["fal","circle"]:["fal","location-dot"],"icon-size":t.isOrigem?"xs":null,cities:t.cities,id:t.type,value:t.value,"trechos-vendidos-map":t.trechosVendidosMap,remote:t.remote,defaultOptions:t.defaultOptions},on:{"click-end-button":function(e){return t.$emit("swap")},clear:function(e){return t.$emit("clear")},input:function(e){return t.$emit("input",e)}}})}),[],!1,null,null,null);e.a=component.exports},707:function(t,e,r){"use strict";r(195),r(10),r(32);var o=null,n=null,c=null,l=!1,d=!1;function m(){var t,e,r,o;l||(null!==(t=n)&&void 0!==t&&t.popupWhatsapp&&!n.popupWhatsapp.visible?n.popupWhatsapp.show():null!==(e=n)&&void 0!==e&&e.popupLeads&&!n.popupLeads.visible?n.popupLeads.show():null!==(r=n)&&void 0!==r&&r.popupSR&&!n.popupSR.visible&&n.popupSR.popupIsReady?n.popupSR.show():null!==(o=n)&&void 0!==o&&o.popupCupomDisponivel&&!n.popupCupomDisponivel.visible&&n.popupCupomDisponivel.popupIsReady&&n.popupCupomDisponivel.show(),l=!0)}e.a={init:function(t){var e=Object.values(t.$route.query);("home"!==t.$route.name||e&&0===e.length)&&(n=t.$refs,c=["xs","sm"].includes(t.$andromeda.breakpoint.name),window.addEventListener("scroll",this.triggerscroll),window.document.addEventListener("mouseleave",this.triggerMouseleave),window.document.addEventListener("mouseenter",this.triggerMouseenter))},destroy:function(){l=!1,window.removeEventListener("scroll",this.triggerscroll),window.document.removeEventListener("mouseleave",this.triggerMouseleave),window.document.removeEventListener("mouseenter",this.triggerMouseenter)},triggerMouseleave:function(t){var e=!c&&null===t.toElement;d=e,e&&setTimeout((function(){d&&m()}),1500)},triggerMouseenter:function(t){d=!1},triggerscroll:function(t){c&&o&&window.pageYOffset<o-150&&m(),o=window.pageYOffset>o?window.pageYOffset:o}}},746:function(t,e,r){"use strict";r(691)},867:function(t,e,r){"use strict";r(12),r(13),r(20),r(21);var o=r(7),n=r(2),c=(r(17),r(10),r(75),r(16),r(6)),l=r.n(c),d=r(704),m=r(29),f=r(72),h=r(19);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function C(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var y={props:{vertical:Boolean,voltaRequired:Boolean,filterStates:String,minDateIda:String,maxDateIda:String,minDateVolta:String,maxDateVolta:String},components:{selectOrigemDestino:d.a},data:function(){return{departureModal:!1,returnModal:!1,returnDate:null,departureDate:null,returnDateStart:l()().format("YYYY-MM-DD"),showError:!1,abFillSearchbox:!1}},mounted:function(){this.departureDate=this.$route.query.ida,this.returnDate=this.$route.query.volta},methods:{search:function(){if(this.fromCity||this.toCity){if(this.hasChangedSearchParams())if(!this.voltaRequired||this.returnDate){var t="searchPageV1";this.fromCity?this.toCity||(t="searchOriginPageV1"):t="searchDestinationPageV1";var e={};!this.departureDate&&this.returnDate?(e.ida=this.returnDate,this.departureDate=this.returnDate,this.returnDate=null):(this.departureDate&&(e.ida=this.departureDate),this.returnDate&&(e.volta=this.returnDate));var r={origem:this.fromCity&&this.fromCity.slug,destino:this.toCity&&this.toCity.slug};if(this.hasChangedOnlyDatesOnReturn()&&this.$route.query.selecionar){if(this.returnDate!==this.$route.query.volta&&this.departureDate===this.$route.query.ida)return void this.$store.commit("search/setSelectedDate",this.returnDate);var o=[r.destino,r.origem];r.origem=o[0],r.destino=o[1]}this.$store.commit("search/setGrupoIda",null),this.fromCity&&this.toCity||this.$store.dispatch("search/clearSearchStatistics"),m.a.push(t,this.$route.name,r,e,this.$router)}else this.$store.commit("toast/open",{message:"Preencha todos os campos",type:"error"})}else this.showError=!0},hasChangedSearchParams:function(){var t=this.fromCity&&this.fromCity.slug&&this.fromCity.slug!==this.$route.params.origem,e=this.toCity&&this.toCity.slug&&this.toCity.slug!==this.$route.params.destino,r=!this.fromCity&&this.$route.params.origem,o=!this.toCity&&this.$route.params.destino,n=this.departureDate!==this.$route.query.ida,c=this.returnDate!==this.$route.query.volta;return t||e||r||o||n||c},hasChangedOnlyDatesOnReturn:function(){var t=this.fromCity&&this.fromCity.slug&&this.fromCity.slug!==this.$route.params.destino,e=this.toCity&&this.toCity.slug&&this.toCity.slug!==this.$route.params.origem,r=!this.fromCity&&this.$route.params.origem,o=!this.toCity&&this.$route.params.destino,n=this.departureDate!==this.$route.query.ida,c=this.returnDate!==this.$route.query.volta;return!t&&!e&&(n||c)&&!r&&!o},swapOrigemDestino:function(){var t=this.fromCity;this.fromCity=this.toCity,this.toCity=t},preencherTrechoComum:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.$store.getters["auth/loggedIn"]||t.fromCity||t.toCity)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f.a.obterTrechoComumMaisProximo();case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return");case 7:o=t.fromCities.find((function(t){return t.slug===r.origemSlug})),n=t.toCities.find((function(t){return t.slug===r.destinoSlug})),t.fromCity=o,t.toCity=n;case 11:case"end":return e.stop()}}),e)})))()}},computed:C(C({},Object(h.mapState)("search",["cities","trechosVendidos"])),{},{toCity:{get:function(){return this.$store.getters["search/getToCity"]},set:function(t){this.$store.commit("search/setToCity",t)}},fromCity:{get:function(){return this.$store.getters["search/getFromCity"]},set:function(t){this.$store.commit("search/setFromCity",t)}},today:function(){return l()().format("YYYY-MM-DD")},searchError:function(){return this.showError&&!this.fromCity&&!this.toCity&&"Informe uma cidade"},fromCities:function(){var t=this,e=this.cities;return this.filterStates&&(e=e.filter((function(e){return e.uf.toLowerCase()===t.filterStates.toLowerCase()}))),this.toCity?e.filter((function(e){return e.id!==t.toCity.id})):e},toCities:function(){var t=this,e=this.cities;return this.filterStates&&(e=e.filter((function(e){return e.uf.toLowerCase()===t.filterStates.toLowerCase()}))),this.fromCity?e.filter((function(e){return e.id!==t.fromCity.id})):e},trechosVendidosMap:function(){return f.a.buildTrechosVendidosMap(this.trechosVendidos)}}),fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("search/init");case 2:return e.next=4,t.preencherTrechoComum();case 4:case"end":return e.stop()}}),e)})))()},fetchOnServer:!1,watch:{cities:function(){var t=this;this.fromCity||(this.fromCity=this.cities.find((function(e){return e.slug===t.$route.params.origem}))),this.toCity||(this.toCity=this.cities.find((function(e){return e.slug===t.$route.params.destino})))},$route:function(t){this.departureDate=t.query.ida,this.returnDate=t.query.volta}}},D=(r(1729),r(4)),component=Object(D.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ada-card",{staticClass:"search-box",attrs:{outlined:"",rounded:"",elevation:"close"}},[r("form",{staticClass:"sb-container",attrs:{autocomplete:"off"}},[r("select-origem-destino",{key:"origem",staticClass:"sb-city",attrs:{type:"origem",cities:t.fromCities,"trechos-vendidos-map":t.trechosVendidosMap},on:{clear:function(e){t.fromCity=null},swap:t.swapOrigemDestino},model:{value:t.fromCity,callback:function(e){t.fromCity=e},expression:"fromCity"}}),t._v(" "),r("select-origem-destino",{key:"destino",staticClass:"sb-city",attrs:{type:"destino",cities:t.toCities,"trechos-vendidos-map":t.trechosVendidosMap},on:{clear:function(e){t.toCity=null}},model:{value:t.toCity,callback:function(e){t.toCity=e},expression:"toCity"}}),t._v(" "),r("ada-datepicker",{staticClass:"sb-date",attrs:{"min-date":t.minDateIda||t.today,"max-date":t.maxDateIda,"text-format":"DD/MMM",label:"Data de ida",placeholder:"Ida",clearable:""},model:{value:t.departureDate,callback:function(e){t.departureDate=e},expression:"departureDate"}}),t._v(" "),r("ada-datepicker",{staticClass:"sb-date",attrs:{"min-date":t.departureDate||t.minDateVolta||t.today,"max-date":t.maxDateVolta,"text-format":"DD/MMM",label:"Data de volta",placeholder:"Volta",clearable:""},model:{value:t.returnDate,callback:function(e){t.returnDate=e},expression:"returnDate"}}),t._v(" "),r("ada-button",{staticClass:"sb-button",attrs:{color:"primary","aria-label":"Buscar"},on:{click:t.search}},[r("fa",{staticClass:"fs-l-icon text-white",attrs:{icon:["fas","magnifying-glass"]}}),t._v(" "),r("span",{staticClass:"sbs-text"},[t._v("Buscar")])],1)],1),t._v(" "),t.searchError?r("p",{staticClass:"text-red px-1 pt-1"},[t._v(t._s(t.searchError))]):t._e()])}),[],!1,null,"126fdbb0",null);e.a=component.exports}}]);